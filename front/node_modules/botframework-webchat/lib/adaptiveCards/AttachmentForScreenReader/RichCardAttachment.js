"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireDefault(require("react"));

var _botframeworkWebchatComponent = require("botframework-webchat-component");

var _useUniqueId = _interopRequireDefault(require("../hooks/internal/useUniqueId"));

/* eslint-disable react/forbid-dom-props */

/* eslint-disable react/no-array-index-key */
var useLocalizer = _botframeworkWebchatComponent.hooks.useLocalizer;

var RichCardAttachment = function RichCardAttachment(_ref) {
  var _ref$content = _ref.content,
      content = _ref$content === void 0 ? {} : _ref$content;
  var labelId = (0, _useUniqueId.default)('webchat__id');
  var localize = useLocalizer();
  var buttons = content.buttons,
      facts = content.facts,
      image = content.image,
      images = content.images,
      items = content.items,
      subtitle = content.subtitle,
      tax = content.tax,
      text = content.text,
      title = content.title,
      total = content.total,
      vat = content.vat;
  var taxLabel = localize('RECEIPT_CARD_TAX');
  var totalLabel = localize('RECEIPT_CARD_TOTAL');
  var vatLabel = localize('RECEIPT_CARD_VAT');
  var cardLabel = localize('ATTACHMENT_CARD', title || '', subtitle || '', text || '');
  return /*#__PURE__*/_react.default.createElement("article", {
    "aria-labelledby": labelId
  }, /*#__PURE__*/_react.default.createElement("div", {
    id: labelId
  }, cardLabel), !!image && !!image.alt && /*#__PURE__*/_react.default.createElement("img", {
    alt: image.alt
  }), !!images && !!images.length && images.map(function (_ref2, index) {
    var alt = _ref2.alt;
    return /*#__PURE__*/_react.default.createElement("img", {
      alt: alt,
      key: index
    });
  }), !!facts && !!facts.length && /*#__PURE__*/_react.default.createElement("dl", null, facts.map(function (_ref3, index) {
    var key = _ref3.key,
        value = _ref3.value;
    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, {
      key: index
    }, /*#__PURE__*/_react.default.createElement("dt", null, key), /*#__PURE__*/_react.default.createElement("dd", null, value));
  })), !!items && !!items.length && /*#__PURE__*/_react.default.createElement("ul", null, items.map(function (_ref4, index) {
    var image = _ref4.image,
        price = _ref4.price,
        quantity = _ref4.quantity,
        subtitle = _ref4.subtitle,
        text = _ref4.text,
        title = _ref4.title;
    return /*#__PURE__*/_react.default.createElement("li", {
      key: index
    }, !!image && !!image.alt && /*#__PURE__*/_react.default.createElement("img", {
      alt: image.alt
    }), !!title && /*#__PURE__*/_react.default.createElement("p", null, title), !!subtitle && /*#__PURE__*/_react.default.createElement("p", null, subtitle), !!text && /*#__PURE__*/_react.default.createElement("p", null, text), !!quantity && /*#__PURE__*/_react.default.createElement("p", null, quantity), !!price && /*#__PURE__*/_react.default.createElement("p", null, price));
  })), !!vat && /*#__PURE__*/_react.default.createElement("p", null, vatLabel, " ", vat), !!tax && /*#__PURE__*/_react.default.createElement("p", null, taxLabel, " ", tax), !!total && /*#__PURE__*/_react.default.createElement("p", null, totalLabel, " ", total), !!buttons && !!buttons.length && /*#__PURE__*/_react.default.createElement("div", null, buttons.map(function (_ref5, index) {
    var title = _ref5.title;
    return /*#__PURE__*/_react.default.createElement("button", {
      key: index,
      tabIndex: -1,
      type: "button"
    }, title);
  })));
};

RichCardAttachment.propTypes = {
  content: _propTypes.default.any.isRequired
};
var _default = RichCardAttachment;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9hZGFwdGl2ZUNhcmRzL0F0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXIvUmljaENhcmRBdHRhY2htZW50LmpzIl0sIm5hbWVzIjpbInVzZUxvY2FsaXplciIsImhvb2tzIiwiUmljaENhcmRBdHRhY2htZW50IiwiY29udGVudCIsImxhYmVsSWQiLCJsb2NhbGl6ZSIsImJ1dHRvbnMiLCJmYWN0cyIsImltYWdlIiwiaW1hZ2VzIiwiaXRlbXMiLCJzdWJ0aXRsZSIsInRheCIsInRleHQiLCJ0aXRsZSIsInRvdGFsIiwidmF0IiwidGF4TGFiZWwiLCJ0b3RhbExhYmVsIiwidmF0TGFiZWwiLCJjYXJkTGFiZWwiLCJhbHQiLCJsZW5ndGgiLCJtYXAiLCJpbmRleCIsImtleSIsInZhbHVlIiwicHJpY2UiLCJxdWFudGl0eSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsImFueSIsImlzUmVxdWlyZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUVBOztBQUNBOztBQUNBOztBQUVBOztBQU5BOztBQUNBO0FBT0EsSUFBUUEsWUFBUixHQUF5QkMsbUNBQXpCLENBQVFELFlBQVI7O0FBRUEsSUFBTUUsa0JBQWtCLEdBQUcsU0FBckJBLGtCQUFxQixPQUFzQjtBQUFBLDBCQUFuQkMsT0FBbUI7QUFBQSxNQUFuQkEsT0FBbUIsNkJBQVQsRUFBUztBQUMvQyxNQUFNQyxPQUFPLEdBQUcsMEJBQVksYUFBWixDQUFoQjtBQUNBLE1BQU1DLFFBQVEsR0FBR0wsWUFBWSxFQUE3QjtBQUNBLE1BQVFNLE9BQVIsR0FBeUZILE9BQXpGLENBQVFHLE9BQVI7QUFBQSxNQUFpQkMsS0FBakIsR0FBeUZKLE9BQXpGLENBQWlCSSxLQUFqQjtBQUFBLE1BQXdCQyxLQUF4QixHQUF5RkwsT0FBekYsQ0FBd0JLLEtBQXhCO0FBQUEsTUFBK0JDLE1BQS9CLEdBQXlGTixPQUF6RixDQUErQk0sTUFBL0I7QUFBQSxNQUF1Q0MsS0FBdkMsR0FBeUZQLE9BQXpGLENBQXVDTyxL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LEVBTUcsQ0FBQyxDQUFDRCxLQUFGLGlCQUFXLHdDQUFJQSxLQUFKLENBTmQsQ0FEUztBQUFBLEdBQVYsQ0FESCxDQWZKLEVBNEJHLENBQUMsQ0FBQ1gsR0FBRixpQkFDQyx3Q0FDR0csUUFESCxPQUNjSCxHQURkLENBN0JKLEVBaUNHLENBQUMsQ0FBQ0osR0FBRixpQkFDQyx3Q0FDR0ssUUFESCxPQUNjTCxHQURkLENBbENKLEVBc0NHLENBQUMsQ0FBQ0csS0FBRixpQkFDQyx3Q0FDR0csVUFESCxPQUNnQkgsS0FEaEIsQ0F2Q0osRUEyQ0csQ0FBQyxDQUFDVCxPQUFGLElBQWEsQ0FBQyxDQUFDQSxPQUFPLENBQUNnQixNQUF2QixpQkFDQywwQ0FDR2hCLE9BQU8sQ0FBQ2lCLEdBQVIsQ0FBWSxpQkFBWUMsS0FBWjtBQUFBLFFBQUdWLEtBQUgsU0FBR0EsS0FBSDtBQUFBLHdCQUNYO0FBQVEsTUFBQSxHQUFHLEVBQUVVLEtBQWI7QUFBb0IsTUFBQSxRQUFRLEVBQUUsQ0FBQyxDQUEvQjtBQUFrQyxNQUFBLElBQUksRUFBQztBQUF2QyxPQUNHVixLQURILENBRFc7QUFBQSxHQUFaLENBREgsQ0E1Q0osQ0FERjtBQXVERCxDQWxFRDs7QUFvRUFaLGtCQUFrQixDQUFDMkIsU0FBbkIsR0FBK0I7QUFDN0IxQixFQUFBQSxPQUFPLEVBQUUyQixtQkFBVUMsR0FBVixDQUFjQztBQURNLENBQS9CO2VBSWU5QixrQiIsInNvdXJjZVJvb3QiOiJidW5kbGU6Ly8vIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgcmVhY3QvZm9yYmlkLWRvbS1wcm9wcyAqL1xuLyogZXNsaW50LWRpc2FibGUgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5ICovXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGhvb2tzIH0gZnJvbSAnYm90ZnJhbWV3b3JrLXdlYmNoYXQtY29tcG9uZW50JztcblxuaW1wb3J0IHVzZVVuaXF1ZUlkIGZyb20gJy4uL2hvb2tzL2ludGVybmFsL3VzZVVuaXF1ZUlkJztcblxuY29uc3QgeyB1c2VMb2NhbGl6ZXIgfSA9IGhvb2tzO1xuXG5jb25zdCBSaWNoQ2FyZEF0dGFjaG1lbnQgPSAoeyBjb250ZW50ID0ge30gfSkgPT4ge1xuICBjb25zdCBsYWJlbElkID0gdXNlVW5pcXVlSWQoJ3dlYmNoYXRfX2lkJyk7XG4gIGNvbnN0IGxvY2FsaXplID0gdXNlTG9jYWxpemVyKCk7XG4gIGNvbnN0IHsgYnV0dG9ucywgZmFjdHMsIGltYWdlLCBpbWFnZXMsIGl0ZW1zLCBzdWJ0aXRsZSwgdGF4LCB0ZXh0LCB0aXRsZSwgdG90YWwsIHZhdCB9ID0gY29udGVudDtcblxuICBjb25zdCB0YXhMYWJlbCA9IGxvY2FsaXplKCdSRUNFSVBUX0NBUkRfVEFYJyk7XG4gIGNvbnN0IHRvdGFsTGFiZWwgPSBsb2NhbGl6ZSgnUkVDRUlQVF9DQVJEX1RPVEFMJyk7XG4gIGNvbnN0IHZhdExhYmVsID0gbG9jYWxpemUoJ1JFQ0VJUFRfQ0FSRF9WQVQnKTtcblxuICBjb25zdCBjYXJkTGFiZWwgPSBsb2NhbGl6ZSgnQVRUQUNITUVOVF9DQVJEJywgdGl0bGUgfHwgJycsIHN1YnRpdGxlIHx8ICcnLCB0ZXh0IHx8ICcnKTtcblxuICByZXR1cm4gKFxuICAgIDxhcnRpY2xlIGFyaWEtbGFiZWxsZWRieT17bGFiZWxJZH0+XG4gICAgICA8ZGl2IGlkPXtsYWJlbElkfT57Y2FyZExhYmVsfTwvZGl2PlxuICAgICAgeyEhaW1hZ2UgJiYgISFpbWFnZS5hbHQgJiYgPGltZyBhbHQ9e2ltYWdlLmFsdH0gLz59XG4gICAgICB7ISFpbWFnZXMgJiYgISFpbWFnZXMubGVuZ3RoICYmIGltYWdlcy5tYXAoKHsgYWx0IH0sIGluZGV4KSA9PiA8aW1nIGFsdD17YWx0fSBrZXk9e2luZGV4fSAvPil9XG4gICAgICB7ISFmYWN0cyAmJiAhIWZhY3RzLmxlbmd0aCAmJiAoXG4gICAgICAgIDxkbD5cbiAgICAgICAgICB7ZmFjdHMubWFwKCh7IGtleSwgdmFsdWUgfSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudCBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgICAgPGR0PntrZXl9PC9kdD5cbiAgICAgICAgICAgICAgPGRkPnt2YWx1ZX08L2RkPlxuICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kbD5cbiAgICAgICl9XG4gICAgICB7ISFpdGVtcyAmJiAhIWl0ZW1zLmxlbmd0aCAmJiAoXG4gICAgICAgIDx1bD5cbiAgICAgICAgICB7aXRlbXMubWFwKCh7IGltYWdlLCBwcmljZSwgcXVhbnRpdHksIHN1YnRpdGxlLCB0ZXh0LCB0aXRsZSB9LCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgPGxpIGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICB7ISFpbWFnZSAmJiAhIWltYWdlLmFsdCAmJiA8aW1nIGFsdD17aW1hZ2UuYWx0fSAvPn1cbiAgICAgICAgICAgICAgeyEhdGl0bGUgJiYgPHA+e3RpdGxlfTwvcD59XG4gICAgICAgICAgICAgIHshIXN1YnRpdGxlICYmIDxwPntzdWJ0aXRsZX08L3A+fVxuICAgICAgICAgICAgICB7ISF0ZXh0ICYmIDxwPnt0ZXh0fTwvcD59XG4gICAgICAgICAgICAgIHshIXF1YW50aXR5ICYmIDxwPntxdWFudGl0eX08L3A+fVxuICAgICAgICAgICAgICB7ISFwcmljZSAmJiA8cD57cHJpY2V9PC9wPn1cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvdWw+XG4gICAgICApfVxuICAgICAgeyEhdmF0ICYmIChcbiAgICAgICAgPHA+XG4gICAgICAgICAge3ZhdExhYmVsfSB7dmF0fVxuICAgICAgICA8L3A+XG4gICAgICApfVxuICAgICAgeyEhdGF4ICYmIChcbiAgICAgICAgPHA+XG4gICAgICAgICAge3RheExhYmVsfSB7dGF4fVxuICAgICAgICA8L3A+XG4gICAgICApfVxuICAgICAgeyEhdG90YWwgJiYgKFxuICAgICAgICA8cD5cbiAgICAgICAgICB7dG90YWxMYWJlbH0ge3RvdGFsfVxuICAgICAgICA8L3A+XG4gICAgICApfVxuICAgICAgeyEhYnV0dG9ucyAmJiAhIWJ1dHRvbnMubGVuZ3RoICYmIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7YnV0dG9ucy5tYXAoKHsgdGl0bGUgfSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxidXR0b24ga2V5PXtpbmRleH0gdGFiSW5kZXg9ey0xfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9hcnRpY2xlPlxuICApO1xufTtcblxuUmljaENhcmRBdHRhY2htZW50LnByb3BUeXBlcyA9IHtcbiAgY29udGVudDogUHJvcFR5cGVzLmFueS5pc1JlcXVpcmVkXG59O1xuXG5leHBvcnQgZGVmYXVsdCBSaWNoQ2FyZEF0dGFjaG1lbnQ7XG4iXX0=