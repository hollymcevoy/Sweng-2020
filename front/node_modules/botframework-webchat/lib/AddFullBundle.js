"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _botframeworkWebchatCore = require("botframework-webchat-core");

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireDefault(require("react"));

var _AdaptiveCardsComposer = _interopRequireDefault(require("./adaptiveCards/AdaptiveCardsComposer"));

var _useComposerProps = _interopRequireDefault(require("./useComposerProps"));

var adaptiveCardHostConfigDeprecation = (0, _botframeworkWebchatCore.warnOnce)('"adaptiveCardHostConfig" is deprecated. Please use "adaptiveCardsHostConfig" instead. "adaptiveCardHostConfig" will be removed on or after 2022-01-01.');

var AddFullBundle = function AddFullBundle(_ref) {
  var adaptiveCardHostConfig = _ref.adaptiveCardHostConfig,
      adaptiveCardsHostConfig = _ref.adaptiveCardsHostConfig,
      adaptiveCardsPackage = _ref.adaptiveCardsPackage,
      attachmentForScreenReaderMiddleware = _ref.attachmentForScreenReaderMiddleware,
      attachmentMiddleware = _ref.attachmentMiddleware,
      children = _ref.children,
      renderMarkdown = _ref.renderMarkdown,
      styleOptions = _ref.styleOptions,
      styleSet = _ref.styleSet;
  adaptiveCardHostConfig && adaptiveCardHostConfigDeprecation();
  var patchedProps = (0, _useComposerProps.default)({
    attachmentForScreenReaderMiddleware: (0, _botframeworkWebchatCore.singleToArray)(attachmentForScreenReaderMiddleware),
    attachmentMiddleware: (0, _botframeworkWebchatCore.singleToArray)(attachmentMiddleware),
    renderMarkdown: renderMarkdown,
    styleOptions: styleOptions,
    styleSet: styleSet
  });
  return /*#__PURE__*/_react.default.createElement(_AdaptiveCardsComposer.default, {
    adaptiveCardsHostConfig: adaptiveCardHostConfig || adaptiveCardsHostConfig,
    adaptiveCardsPackage: adaptiveCardsPackage
  }, children(patchedProps));
};

AddFullBundle.defaultProps = {
  adaptiveCardHostConfig: undefined,
  adaptiveCardsHostConfig: undefined,
  adaptiveCardsPackage: undefined,
  attachmentForScreenReaderMiddleware: undefined,
  attachmentMiddleware: undefined,
  renderMarkdown: undefined,
  styleOptions: undefined,
  styleSet: undefined
};
AddFullBundle.propTypes = {
  adaptiveCardHostConfig: _propTypes.default.any,
  adaptiveCardsHostConfig: _propTypes.default.any,
  // TypeScript class is not mappable to PropTypes.func
  // @ts-ignore
  adaptiveCardsPackage: _propTypes.default.shape({
    AdaptiveCard: _propTypes.default.func.isRequired,
    HorizontalAlignment: _propTypes.default.any.isRequired,
    TextSize: _propTypes.default.any.isRequired,
    TextWeight: _propTypes.default.any.isRequired
  }),
  attachmentForScreenReaderMiddleware: _propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.func), _propTypes.default.func]),
  attachmentMiddleware: _propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.func), _propTypes.default.func]),
  children: _propTypes.default.func.isRequired,
  renderMarkdown: _propTypes.default.func,
  styleOptions: _propTypes.default.any,
  styleSet: _propTypes.default.any
};
var _default = AddFullBundle;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9BZGRGdWxsQnVuZGxlLnRzeCJdLCJuYW1lcyI6WyJhZGFwdGl2ZUNhcmRIb3N0Q29uZmlnRGVwcmVjYXRpb24iLCJBZGRGdWxsQnVuZGxlIiwiYWRhcHRpdmVDYXJkSG9zdENvbmZpZyIsImFkYXB0aXZlQ2FyZHNIb3N0Q29uZmlnIiwiYWRhcHRpdmVDYXJkc1BhY2thZ2UiLCJhdHRhY2htZW50Rm9yU2NyZWVuUmVhZGVyTWlkZGxld2FyZSIsImF0dGFjaG1lbnRNaWRkbGV3YXJlIiwiY2hpbGRyZW4iLCJyZW5kZXJNYXJrZG93biIsInN0eWxlT3B0aW9ucyIsInN0eWxlU2V0IiwicGF0Y2hlZFByb3BzIiwiZGVmYXVsdFByb3BzIiwidW5kZWZpbmVkIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwiYW55Iiwic2hhcGUiLCJBZGFwdGl2ZUNhcmQiLCJmdW5jIiwiaXNSZXF1aXJlZCIsIkhvcml6b250YWxBbGlnbm1lbnQiLCJUZXh0U2l6ZSIsIlRleHRXZWlnaHQiLCJvbmVPZlR5cGUiLCJhcnJheU9mIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7QUFHQTs7QUFHQTs7QUFnQkEsSUFBTUEsaUNBQWlDLEdBQUcsdUNBQ3hDLHdKQUR3QyxDQUExQzs7QUFJQSxJQUFNQyxhQUFxQyxHQUFHLFNBQXhDQSxhQUF3QyxPQVV4QztBQUFBLE1BVEpDLHNCQVNJLFFBVEpBLHNCQVNJO0FBQUEsTUFSSkMsdUJBUUksUUFSSkEsdUJBUUk7QUFBQSxNQVBKQyxvQkFPSSxRQVBKQSxvQkFPSTtBQUFBLE1BTkpDLG1DQU1JLFFBTkpBLG1DQU1JO0FBQUEsTUFMSkMsb0JBS0ksUUFMSkEsb0JBS0k7QUFBQSxNQUpKQyxRQUlJLFFBSkpBLFFBSUk7QUFBQSxNQUhKQyxjQUdJLFFBSEpBLGNBR0k7QUFBQSxNQUZKQyxZQUVJLFFBRkpBLFlBRUk7QUFBQSxNQURKQyxRQUNJLFFBREpBLFFBQ0k7QUFDSlIsRUFBQUEsc0JBQXNCLElBQUlGLGlDQUFpQyxFQUEzRDtBQUVBLE1BQU1XLFlBQVksR0FBRywrQkFBaUI7QUFDcENOLElBQUFBLG1DQUFtQyxFQUFFLDRDQUFjQSxtQ0FBZCxDQUREO0FBRXBDQyxJQUFBQSxvQkFBb0IsRUFBRSw0Q0FBY0Esb0JBQWQsQ0FGYztBQUdwQ0UsSUFBQUEsY0FBYyxFQUFkQSxjQUhvQztBQUlwQ0MsSUFBQUEsWUFBWSxFQUFaQSxZQUpvQztBQUtwQ0MsSUFBQUEsUUFBUSxFQUFSQTtBQUxvQyxHQUFqQixDQUFyQjtBQVFBLHNCQUNFLDZCQUFDLDhCQUFEO0FBQ0UsSUFBQSx1QkFBdUIsRUFBRVIsc0JBQXNCLElBQUlDLHVCQURyRDtBQUVFLElBQUEsb0JBQW9CLEVBQUVDO0FBRnhCLEtBSUdHLFFBQVEsQ0FBQ0ksWUFBRCxDQUpYLENBREY7QUFRRCxDQTdCRDs7QUErQkFWLGFBQWEsQ0FBQ1csWUFBZCxHQUE2QjtBQUMzQlYsRUFBQUEsc0JBQXNCLEVBQUVXLFNBREc7QUFFM0JWLEVBQUFBLHVCQUF1QixFQUFFVSxTQUZFO0FBRzNCVCxFQUFBQSxvQkFBb0IsRUFBRVMsU0FISztBQUkzQlIsRUFBQUEsbUNBQW1DLEVBQUVRLFNBSlY7QUFLM0JQLEVBQUFBLG9CQUFvQixFQUFFTyxTQUxLO0FBTTNCTCxFQUFBQSxjQUFjLEVBQUVLLFNBTlc7QUFPM0JKLEVBQUFBLFlBQVksRUFBRUksU0FQYTtBQVEzQkgsRUFBQUEsUUFBUSxFQUFFRztBQVJpQixDQUE3QjtBQVdBWixhQUFhLENBQUNhLFNBQWQsR0FBMEI7QUFDeEJaLEVBQUFBLHNCQUFzQixFQUFFYSxtQkFBVUMsR0FEVjtBQUV4QmIsRUFBQUEsdUJBQXVCLEVBQUVZLG1CQUFVQyxHQUZYO0FBR3hCO0FBQ0E7QUFDQVosRUFBQUEsb0JBQW9CLEVBQUVXLG1CQUFVRSxLQUFWLENBQWdCO0FBQ3BDQyxJQUFBQSxZQUFZLEVBQUVILG1CQUFVSSxJQUFWLENBQWVDLFVBRE87QUFFcENDLElBQUFBLG1CQUFtQixFQUFFTixtQkFBVUMsR0FBVixDQUFjSSxVQUZDO0FBR3BDRSxJQUFBQSxRQUFRLEVBQUVQLG1CQUFVQyxHQUFWLENBQWNJLFVBSFk7QUFJcENHLElBQUFBLFVBQVUsRUFBRVIsbUJBQVVDLEdBQVYsQ0FBY0k7QUFKVSxHQUFoQixDQUxFO0FBV3hCZixFQUFBQSxtQ0FBbUMsRUFBRVUsbUJBQVVTLFNBQVYsQ0FBb0IsQ0FBQ1QsbUJBQVVVLE9BQVYsQ0FBa0JWLG1CQUFVSSxJQUE1QixDQUFELEVBQW9DSixtQkFBVUksSUFBOUMsQ0FBcEIsQ0FYYjtBQVl4QmIsRUFBQUEsb0JBQW9CLEVBQUVTLG1CQUFVUyxTQUFWLENBQW9CLENBQUNULG1CQUFVVSxPQUFWLENBQWtCVixtQkFBVUksSUFBNUIsQ0FBRCxFQUFvQ0osbUJBQVVJLElBQTlDLENBQXBCLENBWkU7QUFheEJaLEVBQUFBLFFBQVEsRUFBRVEsbUJBQVVJLElBQVYsQ0FBZUMsVUFiRDtBQWN4QlosRUFBQUEsY0FBYyxFQUFFTyxtQkFBVUksSUFkRjtBQWV4QlYsRUFBQUEsWUFBWSxFQUFFTSxtQkFBVUMsR0FmQTtBQWdCeEJOLEVBQUFBLFFBQVEsRUFBRUssbUJBQVVDO0FBaEJJLENBQTFCO2VBbUJlZixhIiwic291cmNlUm9vdCI6ImJ1bmRsZTovLy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBdHRhY2htZW50Rm9yU2NyZWVuUmVhZGVyTWlkZGxld2FyZSwgQXR0YWNobWVudE1pZGRsZXdhcmUsIFN0eWxlT3B0aW9ucyB9IGZyb20gJ2JvdGZyYW1ld29yay13ZWJjaGF0LWFwaSc7XG5pbXBvcnQgeyBPbmVPck1hbnksIHNpbmdsZVRvQXJyYXksIHdhcm5PbmNlIH0gZnJvbSAnYm90ZnJhbWV3b3JrLXdlYmNoYXQtY29yZSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0LCB7IEZDLCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IFN0cmljdEZ1bGxCdW5kbGVTdHlsZU9wdGlvbnMgfSBmcm9tICcuL3R5cGVzL0Z1bGxCdW5kbGVTdHlsZU9wdGlvbnMnO1xuaW1wb3J0IEFkYXB0aXZlQ2FyZHNDb21wb3NlciBmcm9tICcuL2FkYXB0aXZlQ2FyZHMvQWRhcHRpdmVDYXJkc0NvbXBvc2VyJztcbmltcG9ydCBBZGFwdGl2ZUNhcmRzUGFja2FnZSBmcm9tICcuL3R5cGVzL0FkYXB0aXZlQ2FyZHNQYWNrYWdlJztcbmltcG9ydCBBZGFwdGl2ZUNhcmRzU3R5bGVPcHRpb25zIGZyb20gJy4vYWRhcHRpdmVDYXJkcy9BZGFwdGl2ZUNhcmRzU3R5bGVPcHRpb25zJztcbmltcG9ydCB1c2VDb21wb3NlclByb3BzIGZyb20gJy4vdXNlQ29tcG9zZXJQcm9wcyc7XG5cbnR5cGUgQWRkRnVsbEJ1bmRsZVByb3BzID0ge1xuICBhZGFwdGl2ZUNhcmRzSG9zdENvbmZpZz86IGFueTtcbiAgYWRhcHRpdmVDYXJkc1BhY2thZ2U/OiBBZGFwdGl2ZUNhcmRzUGFja2FnZTtcbiAgYXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmU/OiBPbmVPck1hbnk8QXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmU+O1xuICBhdHRhY2htZW50TWlkZGxld2FyZT86IE9uZU9yTWFueTxBdHRhY2htZW50TWlkZGxld2FyZT47XG4gIGNoaWxkcmVuOiAoeyBleHRyYVN0eWxlU2V0IH06IHsgZXh0cmFTdHlsZVNldDogYW55IH0pID0+IFJlYWN0Tm9kZTtcbiAgcmVuZGVyTWFya2Rvd24/OiAobWFya2Rvd246IHN0cmluZywgeyBtYXJrZG93blJlc3BlY3RDUkxGOiBib29sZWFuIH0sIHsgZXh0ZXJuYWxMaW5rQWx0OiBzdHJpbmcgfSkgPT4gc3RyaW5nO1xuICBzdHlsZU9wdGlvbnM/OiBTdHlsZU9wdGlvbnMgJiBBZGFwdGl2ZUNhcmRzU3R5bGVPcHRpb25zO1xuICBzdHlsZVNldD86IGFueSAmIHsgb3B0aW9uczogU3RyaWN0RnVsbEJ1bmRsZVN0eWxlT3B0aW9ucyB9O1xuXG4gIC8qKiBAZGVwcmVjYXRlZCBSZW5hbWUgdG8gXCJhZGFwdGl2ZUNhcmRzSG9zdENvbmZpZ1wiICovXG4gIGFkYXB0aXZlQ2FyZEhvc3RDb25maWc/OiBhbnk7XG59O1xuXG5jb25zdCBhZGFwdGl2ZUNhcmRIb3N0Q29uZmlnRGVwcmVjYXRpb24gPSB3YXJuT25jZShcbiAgJ1wiYWRhcHRpdmVDYXJkSG9zdENvbmZpZ1wiIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgXCJhZGFwdGl2ZUNhcmRzSG9zdENvbmZpZ1wiIGluc3RlYWQuIFwiYWRhcHRpdmVDYXJkSG9zdENvbmZpZ1wiIHdpbGwgYmUgcmVtb3ZlZCBvbiBvciBhZnRlciAyMDIyLTAxLTAxLidcbik7XG5cbmNvbnN0IEFkZEZ1bGxCdW5kbGU6IEZDPEFkZEZ1bGxCdW5kbGVQcm9wcz4gPSAoe1xuICBhZGFwdGl2ZUNhcmRIb3N0Q29uZmlnLFxuICBhZGFwdGl2ZUNhcmRzSG9zdENvbmZpZyxcbiAgYWRhcHRpdmVDYXJkc1BhY2thZ2UsXG4gIGF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJNaWRkbGV3YXJlLFxuICBhdHRhY2htZW50TWlkZGxld2FyZSxcbiAgY2hpbGRyZW4sXG4gIHJlbmRlck1hcmtkb3duLFxuICBzdHlsZU9wdGlvbnMsXG4gIHN0eWxlU2V0XG59KSA9PiB7XG4gIGFkYXB0aXZlQ2FyZEhvc3RDb25maWcgJiYgYWRhcHRpdmVDYXJkSG9zdENvbmZpZ0RlcHJlY2F0aW9uKCk7XG5cbiAgY29uc3QgcGF0Y2hlZFByb3BzID0gdXNlQ29tcG9zZXJQcm9wcyh7XG4gICAgYXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmU6IHNpbmdsZVRvQXJyYXkoYXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmUpLFxuICAgIGF0dGFjaG1lbnRNaWRkbGV3YXJlOiBzaW5nbGVUb0FycmF5KGF0dGFjaG1lbnRNaWRkbGV3YXJlKSxcbiAgICByZW5kZXJNYXJrZG93bixcbiAgICBzdHlsZU9wdGlvbnMsXG4gICAgc3R5bGVTZXRcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8QWRhcHRpdmVDYXJkc0NvbXBvc2VyXG4gICAgICBhZGFwdGl2ZUNhcmRzSG9zdENvbmZpZz17YWRhcHRpdmVDYXJkSG9zdENvbmZpZyB8fCBhZGFwdGl2ZUNhcmRzSG9zdENvbmZpZ31cbiAgICAgIGFkYXB0aXZlQ2FyZHNQYWNrYWdlPXthZGFwdGl2ZUNhcmRzUGFja2FnZX1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW4ocGF0Y2hlZFByb3BzKX1cbiAgICA8L0FkYXB0aXZlQ2FyZHNDb21wb3Nlcj5cbiAgKTtcbn07XG5cbkFkZEZ1bGxCdW5kbGUuZGVmYXVsdFByb3BzID0ge1xuICBhZGFwdGl2ZUNhcmRIb3N0Q29uZmlnOiB1bmRlZmluZWQsXG4gIGFkYXB0aXZlQ2FyZHNIb3N0Q29uZmlnOiB1bmRlZmluZWQsXG4gIGFkYXB0aXZlQ2FyZHNQYWNrYWdlOiB1bmRlZmluZWQsXG4gIGF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJNaWRkbGV3YXJlOiB1bmRlZmluZWQsXG4gIGF0dGFjaG1lbnRNaWRkbGV3YXJlOiB1bmRlZmluZWQsXG4gIHJlbmRlck1hcmtkb3duOiB1bmRlZmluZWQsXG4gIHN0eWxlT3B0aW9uczogdW5kZWZpbmVkLFxuICBzdHlsZVNldDogdW5kZWZpbmVkXG59O1xuXG5BZGRGdWxsQnVuZGxlLnByb3BUeXBlcyA9IHtcbiAgYWRhcHRpdmVDYXJkSG9zdENvbmZpZzogUHJvcFR5cGVzLmFueSxcbiAgYWRhcHRpdmVDYXJkc0hvc3RDb25maWc6IFByb3BUeXBlcy5hbnksXG4gIC8vIFR5cGVTY3JpcHQgY2xhc3MgaXMgbm90IG1hcHBhYmxlIHRvIFByb3BUeXBlcy5mdW5jXG4gIC8vIEB0cy1pZ25vcmVcbiAgYWRhcHRpdmVDYXJkc1BhY2thZ2U6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgQWRhcHRpdmVDYXJkOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIEhvcml6b250YWxBbGlnbm1lbnQ6IFByb3BUeXBlcy5hbnkuaXNSZXF1aXJlZCxcbiAgICBUZXh0U2l6ZTogUHJvcFR5cGVzLmFueS5pc1JlcXVpcmVkLFxuICAgIFRleHRXZWlnaHQ6IFByb3BUeXBlcy5hbnkuaXNSZXF1aXJlZFxuICB9KSxcbiAgYXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5mdW5jKSwgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgYXR0YWNobWVudE1pZGRsZXdhcmU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5mdW5jKSwgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHJlbmRlck1hcmtkb3duOiBQcm9wVHlwZXMuZnVuYyxcbiAgc3R5bGVPcHRpb25zOiBQcm9wVHlwZXMuYW55LFxuICBzdHlsZVNldDogUHJvcFR5cGVzLmFueVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQWRkRnVsbEJ1bmRsZTtcblxuZXhwb3J0IHR5cGUgeyBBZGRGdWxsQnVuZGxlUHJvcHMgfTtcbiJdfQ==