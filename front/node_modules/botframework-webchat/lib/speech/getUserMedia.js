"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getUserMedia;

function getUserMedia(constraints) {
  var _window = window,
      navigator = _window.navigator;

  if (typeof navigator.mediaDevices !== 'undefined') {
    return navigator.mediaDevices.getUserMedia(constraints);
  } // Although getUserMedia has vendor prefix, they are only used in very old version of browsers.


  if (typeof navigator.getUserMedia !== 'undefined') {
    return new Promise(function (resolve, reject) {
      return navigator.getUserMedia(constraints, resolve, reject);
    });
  }

  throw new Error('This browser does not support Web Audio API.');
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zcGVlY2gvZ2V0VXNlck1lZGlhLnRzIl0sIm5hbWVzIjpbImdldFVzZXJNZWRpYSIsImNvbnN0cmFpbnRzIiwid2luZG93IiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJFcnJvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLFlBQVQsQ0FBc0JDLFdBQXRCLEVBQWlGO0FBQzlGLGdCQUFzQkMsTUFBdEI7QUFBQSxNQUFRQyxTQUFSLFdBQVFBLFNBQVI7O0FBRUEsTUFBSSxPQUFPQSxTQUFTLENBQUNDLFlBQWpCLEtBQWtDLFdBQXRDLEVBQW1EO0FBQ2pELFdBQU9ELFNBQVMsQ0FBQ0MsWUFBVixDQUF1QkosWUFBdkIsQ0FBb0NDLFdBQXBDLENBQVA7QUFDRCxHQUw2RixDQU85Rjs7O0FBQ0EsTUFBSSxPQUFPRSxTQUFTLENBQUNILFlBQWpCLEtBQWtDLFdBQXRDLEVBQW1EO0FBQ2pELFdBQU8sSUFBSUssT0FBSixDQUFZLFVBQUNDLE9BQUQsRUFBVUMsTUFBVjtBQUFBLGFBQXFCSixTQUFTLENBQUNILFlBQVYsQ0FBdUJDLFdBQXZCLEVBQW9DSyxPQUFwQyxFQUE2Q0MsTUFBN0MsQ0FBckI7QUFBQSxLQUFaLENBQVA7QUFDRDs7QUFFRCxRQUFNLElBQUlDLEtBQUosQ0FBVSw4Q0FBVixDQUFOO0FBQ0QiLCJzb3VyY2VSb290IjoiYnVuZGxlOi8vLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFVzZXJNZWRpYShjb25zdHJhaW50czogTWVkaWFTdHJlYW1Db25zdHJhaW50cyk6IFByb21pc2U8TWVkaWFTdHJlYW0+IHtcbiAgY29uc3QgeyBuYXZpZ2F0b3IgfSA9IHdpbmRvdztcblxuICBpZiAodHlwZW9mIG5hdmlnYXRvci5tZWRpYURldmljZXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgfVxuXG4gIC8vIEFsdGhvdWdoIGdldFVzZXJNZWRpYSBoYXMgdmVuZG9yIHByZWZpeCwgdGhleSBhcmUgb25seSB1c2VkIGluIHZlcnkgb2xkIHZlcnNpb24gb2YgYnJvd3NlcnMuXG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yLmdldFVzZXJNZWRpYSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gbmF2aWdhdG9yLmdldFVzZXJNZWRpYShjb25zdHJhaW50cywgcmVzb2x2ZSwgcmVqZWN0KSk7XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYiBBdWRpbyBBUEkuJyk7XG59XG4iXX0=