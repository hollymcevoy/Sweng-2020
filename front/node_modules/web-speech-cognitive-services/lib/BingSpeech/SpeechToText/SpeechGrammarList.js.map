{"version":3,"sources":["../../../src/BingSpeech/SpeechToText/SpeechGrammarList.js"],"names":["_referenceGrammar","_words","Error","nextReferenceGrammar","nextWords","Array","isArray","referenceGrammar","words","speechContext","groups","Type","Hints","ReferenceGrammar","length","Items","map","word","Text"],"mappings":";;;;;;;;;;;;;;;AAAA;;;AAGE,sBAAc;AAAA;AACZ,SAAKA,iBAAL,GAAyB,IAAzB;AACA,SAAKC,MAAL,GAAc,EAAd;AACD;;;;WAED,yBAAgB;AACd,YAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;AACD;;;SAED,eAAuB;AAAE,aAAO,KAAKF,iBAAZ;AAAgC,K;SACzD,aAAqBG,oBAArB,EAA2C;AACzC,UAAI,OAAOA,oBAAP,KAAgC,QAApC,EAA8C;AAC5C,cAAM,IAAID,KAAJ,CAAU,mCAAV,CAAN;AACD;;AAED,WAAKF,iBAAL,GAAyBG,oBAAzB;AACD;;;SAED,eAAY;AAAE,aAAO,KAAKF,MAAZ;AAAqB,K;SACnC,aAAUG,SAAV,EAAqB;AACnB,UAAI,CAACC,KAAK,CAACC,OAAN,CAAcF,SAAd,CAAL,EAA+B;AAC7B,cAAM,IAAIF,KAAJ,CAAU,wBAAV,CAAN;AACD;;AAED,WAAKD,MAAL,GAAcG,SAAd;AACD;;;WAED,+BAAsB;AACpB,UAAQG,gBAAR,GAAoC,IAApC,CAAQA,gBAAR;AAAA,UAA0BC,KAA1B,GAAoC,IAApC,CAA0BA,KAA1B;AACA,UAAIC,aAAJ;;AAEA,UAAIF,gBAAJ,EAAsB;AACpBE,QAAAA,aAAa,GAAG,6BAASA,aAAT,EAAwB,CAAC,KAAD,EAAQ,QAAR,CAAxB,EAA2C;AAAA,cAACC,MAAD,uEAAU,EAAV;AAAA,4DAAqBA,MAArB,IAA6B;AACtFC,YAAAA,IAAI,EAAE,SADgF;AAEtFC,YAAAA,KAAK,EAAE;AAAEC,cAAAA,gBAAgB,EAAEN;AAApB;AAF+E,WAA7B;AAAA,SAA3C,CAAhB;AAID;;AAED,UAAIC,KAAK,IAAIA,KAAK,CAACM,MAAnB,EAA2B;AACzBL,QAAAA,aAAa,GAAG,6BAASA,aAAT,EAAwB,CAAC,KAAD,EAAQ,QAAR,CAAxB,EAA2C;AAAA,cAACC,MAAD,uEAAU,EAAV;AAAA,4DAAqBA,MAArB,IAA6B;AACtFC,YAAAA,IAAI,EAAE,SADgF;AAEtFI,YAAAA,KAAK,EAAEP,KAAK,CAACQ,GAAN,CAAU,UAAAC,IAAI;AAAA,qBAAK;AAAEC,gBAAAA,IAAI,EAAED;AAAR,eAAL;AAAA,aAAd;AAF+E,WAA7B;AAAA,SAA3C,CAAhB;AAID;;AAED,aAAOR,aAAP;AACD","sourcesContent":["import updateIn from 'simple-update-in';\n\nexport default class {\n  constructor() {\n    this._referenceGrammar = null;\n    this._words = [];\n  }\n\n  addFromString() {\n    throw new Error('JSGF is not supported');\n  }\n\n  get referenceGrammar() { return this._referenceGrammar; }\n  set referenceGrammar(nextReferenceGrammar) {\n    if (typeof nextReferenceGrammar !== 'string') {\n      throw new Error('referenceGrammar must be a string');\n    }\n\n    this._referenceGrammar = nextReferenceGrammar;\n  }\n\n  get words() { return this._words; }\n  set words(nextWords) {\n    if (!Array.isArray(nextWords)) {\n      throw new Error('words must be an Array');\n    }\n\n    this._words = nextWords;\n  }\n\n  createSpeechContext() {\n    const { referenceGrammar, words } = this;\n    let speechContext;\n\n    if (referenceGrammar) {\n      speechContext = updateIn(speechContext, ['dgi', 'Groups'], (groups = []) => [...groups, {\n        Type: 'Generic',\n        Hints: { ReferenceGrammar: referenceGrammar }\n      }]);\n    }\n\n    if (words && words.length) {\n      speechContext = updateIn(speechContext, ['dgi', 'Groups'], (groups = []) => [...groups, {\n        Type: 'Generic',\n        Items: words.map(word => ({ Text: word }))\n      }]);\n    }\n\n    return speechContext;\n  }\n}\n"],"file":"SpeechGrammarList.js"}