{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = lastTypingAt;\n\nvar _simpleUpdateIn = _interopRequireDefault(require(\"simple-update-in\"));\n\nvar _incomingActivity = require(\"../actions/incomingActivity\");\n/*eslint no-case-declarations: \"off\"*/\n\n/*eslint no-unused-vars: \"off\"*/\n\n\nvar DEFAULT_STATE = {};\n\nfunction lastTypingAt() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_STATE;\n\n  var _ref = arguments.length > 1 ? arguments[1] : undefined,\n      payload = _ref.payload,\n      type = _ref.type;\n\n  if (type === _incomingActivity.INCOMING_ACTIVITY) {\n    var _payload$activity = payload.activity,\n        _payload$activity$fro = _payload$activity.from,\n        id = _payload$activity$fro.id,\n        role = _payload$activity$fro.role,\n        activityType = _payload$activity.type;\n\n    if (role !== 'user') {\n      if (activityType === 'typing') {\n        state = (0, _simpleUpdateIn[\"default\"])(state, [id], function () {\n          return Date.now();\n        });\n      } else if (activityType === 'message') {\n        state = (0, _simpleUpdateIn[\"default\"])(state, [id]);\n      }\n    }\n  }\n\n  return state;\n}","map":{"version":3,"mappings":";;;;;;;;;AAGA;;AAEA;AALA;;AACA;;;AAMA,IAAMA,aAAa,GAAG,EAAtB;;AAEe,SAASC,YAAT,GAAgE;AAAA,MAA1CC,KAA0C,uEAAlCF,aAAkC;;AAAA;AAAA,MAAjBG,OAAiB,QAAjBA,OAAiB;AAAA,MAARC,IAAQ,QAARA,IAAQ;;AAC7E,MAAIA,IAAI,KAAKC,mCAAb,EAAgC;AAC9B,4BAKIF,OALJ,CACEG,QADF;AAAA,kDAEIC,IAFJ;AAAA,QAEYC,EAFZ,yBAEYA,EAFZ;AAAA,QAEgBC,IAFhB,yBAEgBA,IAFhB;AAAA,QAGUC,YAHV,qBAGIN,IAHJ;;AAOA,QAAIK,IAAI,KAAK,MAAb,EAAqB;AACnB,UAAIC,YAAY,KAAK,QAArB,EAA+B;AAC7BR,aAAK,GAAG,gCAASA,KAAT,EAAgB,CAACM,EAAD,CAAhB,EAAsB;AAAA,iBAAMG,IAAI,CAACC,GAALD,EAAN;AAAtB,UAART;AADF,aAEO,IAAIQ,YAAY,KAAK,SAArB,EAAgC;AACrCR,aAAK,GAAG,gCAASA,KAAT,EAAgB,CAACM,EAAD,CAAhB,CAARN;AACD;AACF;AACF;;AAED,SAAOA,KAAP;AACD","names":["DEFAULT_STATE","lastTypingAt","state","payload","type","INCOMING_ACTIVITY","activity","from","id","role","activityType","Date","now"],"sources":["/Users/dylanmurray/Sweng-2022/front/node_modules/botframework-webchat-core/lib/src/reducers/lastTypingAt.js"],"sourcesContent":["/*eslint no-case-declarations: \"off\"*/\n/*eslint no-unused-vars: \"off\"*/\n\nimport updateIn from 'simple-update-in';\n\nimport { INCOMING_ACTIVITY } from '../actions/incomingActivity';\n\nconst DEFAULT_STATE = {};\n\nexport default function lastTypingAt(state = DEFAULT_STATE, { payload, type }) {\n  if (type === INCOMING_ACTIVITY) {\n    const {\n      activity: {\n        from: { id, role },\n        type: activityType\n      }\n    } = payload;\n\n    if (role !== 'user') {\n      if (activityType === 'typing') {\n        state = updateIn(state, [id], () => Date.now());\n      } else if (activityType === 'message') {\n        state = updateIn(state, [id]);\n      }\n    }\n  }\n\n  return state;\n}\n"]},"metadata":{},"sourceType":"script"}