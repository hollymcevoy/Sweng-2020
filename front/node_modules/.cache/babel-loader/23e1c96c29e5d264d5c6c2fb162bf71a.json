{"ast":null,"code":"\"use strict\"; // Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SpeakerRecognitionCancellationDetails = exports.SpeakerRecognitionResult = exports.SpeakerRecognitionResultType = void 0;\n\nvar Exports_1 = require(\"../common.speech/Exports\");\n\nvar Contracts_1 = require(\"./Contracts\");\n\nvar Exports_2 = require(\"./Exports\");\n\nvar SpeakerRecognitionResultType;\n\n(function (SpeakerRecognitionResultType) {\n  SpeakerRecognitionResultType[SpeakerRecognitionResultType[\"Verify\"] = 0] = \"Verify\";\n  SpeakerRecognitionResultType[SpeakerRecognitionResultType[\"Identify\"] = 1] = \"Identify\";\n})(SpeakerRecognitionResultType = exports.SpeakerRecognitionResultType || (exports.SpeakerRecognitionResultType = {}));\n/**\n * Output format\n * @class SpeakerRecognitionResult\n */\n\n\nvar SpeakerRecognitionResult =\n/** @class */\nfunction () {\n  function SpeakerRecognitionResult(resultType, data, profileId, resultReason) {\n    if (resultReason === void 0) {\n      resultReason = Exports_2.ResultReason.RecognizedSpeaker;\n    }\n\n    this.privProperties = new Exports_2.PropertyCollection();\n    this.privReason = resultReason;\n\n    if (this.privReason !== Exports_2.ResultReason.Canceled) {\n      if (resultType === SpeakerRecognitionResultType.Identify) {\n        var json = JSON.parse(data);\n        Contracts_1.Contracts.throwIfNullOrUndefined(json, \"JSON\");\n        this.privProfileId = json.identifiedProfile.profileId;\n        this.privScore = json.identifiedProfile.score;\n      } else {\n        var json = JSON.parse(data);\n        Contracts_1.Contracts.throwIfNullOrUndefined(json, \"JSON\");\n        this.privScore = json.score;\n\n        if (json.recognitionResult.toLowerCase() !== \"accept\") {\n          this.privReason = Exports_2.ResultReason.NoMatch;\n        }\n\n        if (profileId !== undefined && profileId !== \"\") {\n          this.privProfileId = profileId;\n        }\n      }\n    } else {\n      var json = JSON.parse(data);\n      Contracts_1.Contracts.throwIfNullOrUndefined(json, \"JSON\");\n      this.privErrorDetails = json.statusText;\n      this.privProperties.setProperty(Exports_1.CancellationErrorCodePropertyName, Exports_2.CancellationErrorCode[Exports_2.CancellationErrorCode.ServiceError]);\n    }\n\n    this.privProperties.setProperty(Exports_2.PropertyId.SpeechServiceResponse_JsonResult, data);\n  }\n\n  Object.defineProperty(SpeakerRecognitionResult.prototype, \"properties\", {\n    get: function () {\n      return this.privProperties;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SpeakerRecognitionResult.prototype, \"reason\", {\n    get: function () {\n      return this.privReason;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SpeakerRecognitionResult.prototype, \"profileId\", {\n    get: function () {\n      return this.privProfileId;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SpeakerRecognitionResult.prototype, \"errorDetails\", {\n    get: function () {\n      return this.privErrorDetails;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SpeakerRecognitionResult.prototype, \"score\", {\n    get: function () {\n      return this.privScore;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return SpeakerRecognitionResult;\n}();\n\nexports.SpeakerRecognitionResult = SpeakerRecognitionResult;\n/**\n * @class SpeakerRecognitionCancellationDetails\n */\n// tslint:disable-next-line:max-classes-per-file\n\nvar SpeakerRecognitionCancellationDetails =\n/** @class */\nfunction (_super) {\n  __extends(SpeakerRecognitionCancellationDetails, _super);\n\n  function SpeakerRecognitionCancellationDetails(reason, errorDetails, errorCode) {\n    return _super.call(this, reason, errorDetails, errorCode) || this;\n  }\n  /**\n   * Creates an instance of SpeakerRecognitionCancellationDetails object for the canceled SpeakerRecognitionResult\n   * @member SpeakerRecognitionCancellationDetails.fromResult\n   * @function\n   * @public\n   * @param {SpeakerRecognitionResult} result - The result that was canceled.\n   * @returns {SpeakerRecognitionCancellationDetails} The cancellation details object being created.\n   */\n\n\n  SpeakerRecognitionCancellationDetails.fromResult = function (result) {\n    var reason = Exports_2.CancellationReason.Error;\n    var errorCode = Exports_2.CancellationErrorCode.NoError;\n\n    if (!!result.properties) {\n      errorCode = Exports_2.CancellationErrorCode[result.properties.getProperty(Exports_1.CancellationErrorCodePropertyName, Exports_2.CancellationErrorCode[Exports_2.CancellationErrorCode.NoError])];\n    }\n\n    return new SpeakerRecognitionCancellationDetails(reason, result.errorDetails, errorCode);\n  };\n\n  return SpeakerRecognitionCancellationDetails;\n}(Exports_2.CancellationDetailsBase);\n\nexports.SpeakerRecognitionCancellationDetails = SpeakerRecognitionCancellationDetails;","map":{"version":3,"mappings":"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","names":["SpeakerRecognitionResultType","exports","resultType","data","profileId","resultReason","Exports_2","RecognizedSpeaker","privProperties","privReason","Canceled","Identify","json","JSON","parse","Contracts_1","throwIfNullOrUndefined","privProfileId","identifiedProfile","privScore","score","recognitionResult","toLowerCase","NoMatch","undefined","privErrorDetails","statusText","setProperty","Exports_1","ServiceError","SpeechServiceResponse_JsonResult","Object","SpeakerRecognitionResult","__extends","reason","errorDetails","errorCode","_super","SpeakerRecognitionCancellationDetails","result","Error","NoError","properties","getProperty"],"sources":["/Users/dylanmurray/Sweng-2022/front/node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/src/sdk/SpeakerRecognitionResult.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license.\r\n\r\nimport { CancellationErrorCodePropertyName } from \"../common.speech/Exports\";\r\nimport { Contracts } from \"./Contracts\";\r\nimport {\r\n    CancellationDetailsBase,\r\n    CancellationErrorCode,\r\n    CancellationReason,\r\n    PropertyCollection,\r\n    PropertyId,\r\n    ResultReason,\r\n} from \"./Exports\";\r\n\r\nexport enum SpeakerRecognitionResultType {\r\n    Verify,\r\n    Identify\r\n}\r\n/**\r\n * Output format\r\n * @class SpeakerRecognitionResult\r\n */\r\nexport class SpeakerRecognitionResult {\r\n    private privReason: ResultReason;\r\n    private privProperties: PropertyCollection;\r\n    private privProfileId: string;\r\n    private privScore: number;\r\n    private privErrorDetails: string;\r\n\r\n    public constructor(resultType: SpeakerRecognitionResultType, data: string, profileId: string, resultReason: ResultReason = ResultReason.RecognizedSpeaker) {\r\n        this.privProperties = new PropertyCollection();\r\n        this.privReason = resultReason;\r\n        if (this.privReason !== ResultReason.Canceled) {\r\n            if (resultType === SpeakerRecognitionResultType.Identify) {\r\n                const json: { identifiedProfile: { profileId: string, score: number } } = JSON.parse(data);\r\n                Contracts.throwIfNullOrUndefined(json, \"JSON\");\r\n                this.privProfileId = json.identifiedProfile.profileId;\r\n                this.privScore = json.identifiedProfile.score;\r\n            } else {\r\n                const json: { recognitionResult: string, score: number } = JSON.parse(data);\r\n                Contracts.throwIfNullOrUndefined(json, \"JSON\");\r\n                this.privScore = json.score;\r\n                if (json.recognitionResult.toLowerCase() !== \"accept\") {\r\n                    this.privReason = ResultReason.NoMatch;\r\n                }\r\n                if (profileId !== undefined && profileId !== \"\") {\r\n                    this.privProfileId = profileId;\r\n                }\r\n            }\r\n        } else {\r\n            const json: { statusText: string } = JSON.parse(data);\r\n            Contracts.throwIfNullOrUndefined(json, \"JSON\");\r\n            this.privErrorDetails = json.statusText;\r\n            this.privProperties.setProperty(CancellationErrorCodePropertyName, CancellationErrorCode[CancellationErrorCode.ServiceError]);\r\n        }\r\n        this.privProperties.setProperty(PropertyId.SpeechServiceResponse_JsonResult, data);\r\n    }\r\n\r\n    public get properties(): PropertyCollection {\r\n        return this.privProperties;\r\n    }\r\n\r\n    public get reason(): ResultReason {\r\n        return this.privReason;\r\n    }\r\n\r\n    public get profileId(): string {\r\n        return this.privProfileId;\r\n    }\r\n\r\n    public get errorDetails(): string {\r\n        return this.privErrorDetails;\r\n    }\r\n\r\n    public get score(): number {\r\n        return this.privScore;\r\n    }\r\n}\r\n\r\n/**\r\n * @class SpeakerRecognitionCancellationDetails\r\n */\r\n// tslint:disable-next-line:max-classes-per-file\r\nexport class SpeakerRecognitionCancellationDetails extends CancellationDetailsBase {\r\n\r\n    private constructor(reason: CancellationReason, errorDetails: string, errorCode: CancellationErrorCode) {\r\n        super(reason, errorDetails, errorCode);\r\n    }\r\n\r\n    /**\r\n     * Creates an instance of SpeakerRecognitionCancellationDetails object for the canceled SpeakerRecognitionResult\r\n     * @member SpeakerRecognitionCancellationDetails.fromResult\r\n     * @function\r\n     * @public\r\n     * @param {SpeakerRecognitionResult} result - The result that was canceled.\r\n     * @returns {SpeakerRecognitionCancellationDetails} The cancellation details object being created.\r\n     */\r\n    public static fromResult(result: SpeakerRecognitionResult): SpeakerRecognitionCancellationDetails {\r\n        const reason = CancellationReason.Error;\r\n        let errorCode: CancellationErrorCode = CancellationErrorCode.NoError;\r\n\r\n        if (!!result.properties) {\r\n            errorCode = (CancellationErrorCode as any)[result.properties.getProperty(CancellationErrorCodePropertyName, CancellationErrorCode[CancellationErrorCode.NoError])];\r\n        }\r\n\r\n        return new SpeakerRecognitionCancellationDetails(reason, result.errorDetails, errorCode);\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"script"}