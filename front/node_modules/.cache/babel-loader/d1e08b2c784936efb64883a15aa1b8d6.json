{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createCoreMiddleware;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _AudioAttachment = _interopRequireDefault(require(\"./AudioAttachment\"));\n\nvar _FileAttachment = _interopRequireDefault(require(\"./FileAttachment\"));\n\nvar _ImageAttachment = _interopRequireDefault(require(\"./ImageAttachment\"));\n\nvar _TextAttachment = _interopRequireDefault(require(\"./TextAttachment\"));\n\nvar _VideoAttachment = _interopRequireDefault(require(\"./VideoAttachment\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction createCoreMiddleware() {\n  return [function () {\n    return function (next) {\n      return function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        var _args$ = args[0],\n            _args$$activity = _args$.activity;\n        _args$$activity = _args$$activity === void 0 ? {} : _args$$activity;\n        var _args$$activity$from = _args$$activity.from;\n        _args$$activity$from = _args$$activity$from === void 0 ? {} : _args$$activity$from;\n        var _args$$activity$from$ = _args$$activity$from.role,\n            role = _args$$activity$from$ === void 0 ? undefined : _args$$activity$from$,\n            attachment = _args$.attachment,\n            _args$$attachment = _args$.attachment;\n        _args$$attachment = _args$$attachment === void 0 ? {} : _args$$attachment;\n        var _args$$attachment$con = _args$$attachment.contentType,\n            contentType = _args$$attachment$con === void 0 ? undefined : _args$$attachment$con,\n            _args$$attachment$con2 = _args$$attachment.contentUrl,\n            contentUrl = _args$$attachment$con2 === void 0 ? undefined : _args$$attachment$con2,\n            _args$$attachment$thu = _args$$attachment.thumbnailUrl,\n            thumbnailUrl = _args$$attachment$thu === void 0 ? undefined : _args$$attachment$thu;\n        var isText = /^text\\//.test(contentType);\n        return (isText ? !attachment.content : role === 'user' && !thumbnailUrl) ? function () {\n          return /*#__PURE__*/_react.default.createElement(_FileAttachment.default, {\n            attachment: attachment\n          });\n        } : /^audio\\//.test(contentType) ? function () {\n          return /*#__PURE__*/_react.default.createElement(_AudioAttachment.default, null);\n        } : /^image\\//.test(contentType) ? function () {\n          return /*#__PURE__*/_react.default.createElement(_ImageAttachment.default, null);\n        } : /^video\\//.test(contentType) ? function () {\n          return /*#__PURE__*/_react.default.createElement(_VideoAttachment.default, null);\n        } : contentUrl || contentType === 'application/octet-stream' ? function () {\n          return /*#__PURE__*/_react.default.createElement(_FileAttachment.default, {\n            attachment: attachment\n          });\n        } : isText ? function () {\n          return /*#__PURE__*/_react.default.createElement(_TextAttachment.default, {\n            attachment: attachment\n          });\n        } : next.apply(void 0, args);\n      };\n    };\n  }];\n}","map":{"version":3,"mappings":";;;;;;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAEe,SAASA,oBAAT,GAAuE;AACpF,SAAO,CACL;AAAA,WACE,gBAAI;AAAA,aACJ,YAAa;AAAA,0CAATC,IAAS;AAATA,cAAS,MAATA,GAASC,eAATD;AAAS;;AACX,qBAMIA,IANJ;AAAA,qCAEIE,QAFJ;AAAAC,uDAEoD,EAFpD;AAAA,mDAEgBC,IAFhB;AAAAC,iEAE6C,EAF7C;AAAA,yDAEwBC,IAFxB;AAAA,YAEwBA,IAFxB,sCAE+BC,SAF/B;AAAA,YAGIC,UAHJ,UAGIA,UAHJ;AAAA,uCAIIA,UAJJ;AAAAC,2DAIgG,EAJhG;AAAA,sDAIkBC,WAJlB;AAAA,YAIkBA,WAJlB,sCAIgCH,SAJhC;AAAA,uDAI2CI,UAJ3C;AAAA,YAI2CA,UAJ3C,uCAIwDJ,SAJxD;AAAA,sDAImEK,YAJnE;AAAA,YAImEA,YAJnE,sCAIkFL,SAJlF;AAQA,YAAMM,MAAM,GAAG,UAAWC,IAAX,CAAgBJ,WAAhB,CAAf;AAEA,eAAO,CAACG,MAAM,GAAG,CAACL,UAAU,CAACO,OAAf,GAAyBT,IAAI,KAAK,MAATA,IAAmB,CAACM,YAApD,IACH;AAAA,8BAAMI,6BAACC,uBAAD;AAAgBT,sBAAU,EAAEA;AAA5B,YAAN;AADG,YAEH,WAAYM,IAAZ,CAAiBJ,WAAjB,IACA;AAAA,8BAAMM,6BAACE,wBAAD,OAAN;AADA,YAEA,WAAYJ,IAAZ,CAAiBJ,WAAjB,IACA;AAAA,8BAAMM,6BAACG,wBAAD,OAAN;AADA,YAEA,WAAYL,IAAZ,CAAiBJ,WAAjB,IACA;AAAA,8BAAMM,6BAACI,wBAAD,OAAN;AADA,YAEAT,UAAU,IAAID,WAAW,KAAK,0BAA9BC,GACA;AAAA,8BAAMK,6BAACC,uBAAD;AAAgBT,sBAAU,EAAEA;AAA5B,YAAN;AADA,YAEAK,MAAM,GACN;AAAA,8BAAMG,6BAACK,uBAAD;AAAgBb,sBAAU,EAAEA;AAA5B,YAAN;AADM,YAENc,IAAI,MAAJA,SAAQtB,IAARsB,CAZJ;AAZE;AADN;AADK,IAAP;AA6BD","names":["createCoreMiddleware","args","arguments","activity","_args$$activity","from","_args$$activity$from","role","undefined","attachment","_args$$attachment","contentType","contentUrl","thumbnailUrl","isText","test","content","_react","_FileAttachment","_AudioAttachment","_ImageAttachment","_VideoAttachment","_TextAttachment","next"],"sources":["/Users/dylanmurray/Sweng-2022/front/node_modules/botframework-webchat-component/lib/src/Middleware/AttachmentForScreenReader/createCoreMiddleware.tsx"],"sourcesContent":["import { AttachmentForScreenReaderMiddleware } from 'botframework-webchat-api';\nimport React from 'react';\n\nimport AudioAttachment from './AudioAttachment';\nimport FileAttachment from './FileAttachment';\nimport ImageAttachment from './ImageAttachment';\nimport TextAttachment from './TextAttachment';\nimport VideoAttachment from './VideoAttachment';\n\nexport default function createCoreMiddleware(): AttachmentForScreenReaderMiddleware[] {\n  return [\n    () =>\n      next =>\n      (...args) => {\n        const [\n          {\n            activity: { from: { role = undefined } = {} } = {},\n            attachment,\n            attachment: { contentType = undefined, contentUrl = undefined, thumbnailUrl = undefined } = {}\n          }\n        ] = args;\n\n        const isText = /^text\\//u.test(contentType);\n\n        return (isText ? !attachment.content : role === 'user' && !thumbnailUrl)\n          ? () => <FileAttachment attachment={attachment} />\n          : /^audio\\//u.test(contentType)\n          ? () => <AudioAttachment />\n          : /^image\\//u.test(contentType)\n          ? () => <ImageAttachment />\n          : /^video\\//u.test(contentType)\n          ? () => <VideoAttachment />\n          : contentUrl || contentType === 'application/octet-stream'\n          ? () => <FileAttachment attachment={attachment} />\n          : isText\n          ? () => <TextAttachment attachment={attachment} />\n          : next(...args);\n      }\n  ];\n}\n"]},"metadata":{},"sourceType":"script"}