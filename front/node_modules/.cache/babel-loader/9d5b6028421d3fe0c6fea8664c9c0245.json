{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PopupControl = void 0; // Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nvar constants_1 = require(\"./constants\");\n\nvar Utils = require(\"../utils\");\n\nvar host_config_1 = require(\"../host-config\");\n\nvar PopupControl =\n/** @class */\nfunction () {\n  function PopupControl() {\n    this._isOpen = false;\n  }\n\n  PopupControl.prototype.keyDown = function (e) {\n    switch (e.key) {\n      case constants_1.Constants.keys.escape:\n        this.closePopup(true);\n        break;\n    }\n  };\n\n  PopupControl.prototype.render = function (rootElementBounds) {\n    var _this = this;\n\n    var element = document.createElement(\"div\");\n    element.tabIndex = 0;\n    element.className = this.hostConfig.makeCssClassName(\"ac-ctrl\", \"ac-ctrl-popup-container\");\n    element.setAttribute(\"role\", \"dialog\");\n    element.setAttribute(\"aria-modal\", \"true\");\n\n    element.onkeydown = function (e) {\n      _this.keyDown(e);\n\n      return !e.cancelBubble;\n    };\n\n    element.appendChild(this.renderContent());\n    return element;\n  };\n\n  PopupControl.prototype.focus = function () {\n    if (this._popupElement) {\n      this._popupElement.firstElementChild.focus();\n    }\n  };\n\n  PopupControl.prototype.popup = function (rootElement) {\n    var _a, _b, _c, _d, _e;\n\n    var _this = this;\n\n    if (!this._isOpen) {\n      this._overlayElement = document.createElement(\"div\");\n      this._overlayElement.className = this.hostConfig.makeCssClassName(\"ac-ctrl-overlay\");\n      this._overlayElement.tabIndex = 0;\n      this._overlayElement.style.width = document.documentElement.scrollWidth + \"px\";\n      this._overlayElement.style.height = document.documentElement.scrollHeight + \"px\";\n\n      this._overlayElement.onfocus = function (e) {\n        _this.closePopup(true);\n      };\n\n      document.body.appendChild(this._overlayElement);\n      var rootElementBounds = rootElement.getBoundingClientRect();\n      this._popupElement = this.render(rootElementBounds);\n\n      (_a = this._popupElement.classList).remove.apply(_a, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideLeftToRight\", \"ac-ctrl-slideRightToLeft\", \"ac-ctrl-slideTopToBottom\", \"ac-ctrl-slideRightToLeft\"));\n\n      window.addEventListener(\"resize\", function (e) {\n        _this.closePopup(true);\n      });\n      var rootElementLabel = rootElement.getAttribute(\"aria-label\");\n\n      if (rootElementLabel) {\n        this._popupElement.setAttribute(\"aria-label\", rootElementLabel);\n      }\n\n      this._overlayElement.appendChild(this._popupElement);\n\n      var popupElementBounds = this._popupElement.getBoundingClientRect();\n\n      var availableSpaceBelow = window.innerHeight - rootElementBounds.bottom;\n      var availableSpaceAbove = rootElementBounds.top;\n      var availableSpaceRight = window.innerWidth - rootElementBounds.left;\n      var availableSpaceRight = window.innerWidth - rootElementBounds.right;\n      var availableSpaceLeft = rootElementBounds.left;\n      var left = rootElementBounds.left + Utils.getScrollX();\n      var top;\n\n      if (availableSpaceAbove < popupElementBounds.height && availableSpaceBelow < popupElementBounds.height) {\n        // Not enough space above or below root element\n        var actualPopupHeight = Math.min(popupElementBounds.height, window.innerHeight);\n        this._popupElement.style.maxHeight = actualPopupHeight + \"px\";\n\n        if (actualPopupHeight < popupElementBounds.height) {\n          top = Utils.getScrollY();\n        } else {\n          top = Utils.getScrollY() + rootElementBounds.top + (rootElementBounds.height - actualPopupHeight) / 2;\n        }\n\n        if (availableSpaceLeft < popupElementBounds.width && availableSpaceRight < popupElementBounds.width) {\n          // Not enough space left or right of root element\n          var actualPopupWidth = Math.min(popupElementBounds.width, window.innerWidth);\n          this._popupElement.style.maxWidth = actualPopupWidth + \"px\";\n\n          if (actualPopupWidth < popupElementBounds.width) {\n            left = Utils.getScrollX();\n          } else {\n            left = Utils.getScrollX() + rootElementBounds.left + (rootElementBounds.width - actualPopupWidth) / 2;\n          }\n        } else {\n          // Enough space on the left or right of the root element\n          if (availableSpaceRight >= popupElementBounds.width) {\n            left = Utils.getScrollX() + rootElementBounds.right;\n\n            (_b = this._popupElement.classList).add.apply(_b, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideLeftToRight\"));\n          } else {\n            left = Utils.getScrollX() + rootElementBounds.left - popupElementBounds.width;\n\n            (_c = this._popupElement.classList).add.apply(_c, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideRightToLeft\"));\n          }\n        }\n      } else {\n        // Enough space above or below root element\n        if (availableSpaceBelow >= popupElementBounds.height) {\n          top = Utils.getScrollY() + rootElementBounds.bottom;\n\n          (_d = this._popupElement.classList).add.apply(_d, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideTopToBottom\"));\n        } else {\n          top = Utils.getScrollY() + rootElementBounds.top - popupElementBounds.height;\n\n          (_e = this._popupElement.classList).add.apply(_e, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideBottomToTop\"));\n        }\n\n        if (availableSpaceRight < popupElementBounds.width) {\n          left = Utils.getScrollX() + rootElementBounds.right - popupElementBounds.width;\n        }\n      }\n\n      this._popupElement.style.left = left + \"px\";\n      this._popupElement.style.top = top + \"px\";\n\n      this._popupElement.focus();\n\n      this._isOpen = true;\n    }\n  };\n\n  PopupControl.prototype.closePopup = function (wasCancelled) {\n    if (this._isOpen) {\n      document.body.removeChild(this._overlayElement);\n      this._isOpen = false;\n\n      if (this.onClose) {\n        this.onClose(this, wasCancelled);\n      }\n    }\n  };\n\n  Object.defineProperty(PopupControl.prototype, \"hostConfig\", {\n    get: function () {\n      return this._hostConfig ? this._hostConfig : host_config_1.defaultHostConfig;\n    },\n    set: function (value) {\n      this._hostConfig = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PopupControl.prototype, \"isOpen\", {\n    get: function () {\n      return this._isOpen;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return PopupControl;\n}();\n\nexports.PopupControl = PopupControl;","map":{"version":3,"mappings":"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","names":["PopupControl","e","key","constants_1","keys","escape","closePopup","rootElementBounds","element","document","createElement","tabIndex","className","hostConfig","makeCssClassName","setAttribute","onkeydown","_this","keyDown","cancelBubble","appendChild","renderContent","_popupElement","firstElementChild","focus","rootElement","_isOpen","_overlayElement","style","width","documentElement","scrollWidth","height","scrollHeight","onfocus","body","getBoundingClientRect","render","classList","remove","apply","_a","makeCssClassNames","window","addEventListener","rootElementLabel","getAttribute","popupElementBounds","availableSpaceBelow","innerHeight","bottom","availableSpaceAbove","top","availableSpaceRight","innerWidth","left","right","availableSpaceLeft","Utils","getScrollX","actualPopupHeight","Math","min","maxHeight","getScrollY","actualPopupWidth","maxWidth","add","_b","_c","_d","_e","wasCancelled","removeChild","onClose","Object","_hostConfig","host_config_1","value","exports"],"sources":["/Users/dylanmurray/Sweng-2022/front/node_modules/adaptivecards/src/controls/popup-control.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { Constants } from \"./constants\";\nimport * as Utils from \"../utils\";\nimport { defaultHostConfig, HostConfig } from \"../host-config\";\n\nexport abstract class PopupControl {\n    private _isOpen: boolean = false;\n    private _overlayElement: HTMLElement;\n    private _popupElement: HTMLElement;\n    private _hostConfig?: HostConfig;\n\n    protected abstract renderContent(): HTMLElement;\n\n    onClose: (popupControl: PopupControl, wasCancelled: boolean) => void;\n\n    keyDown(e: KeyboardEvent) {\n        switch (e.key) {\n            case Constants.keys.escape:\n                this.closePopup(true);\n\n                break;\n        }\n    }\n\n    render(rootElementBounds: ClientRect): HTMLElement {\n        let element = document.createElement(\"div\");\n        element.tabIndex = 0;\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl\", \"ac-ctrl-popup-container\");\n        element.setAttribute(\"role\", \"dialog\");\n        element.setAttribute(\"aria-modal\", \"true\");\n        element.onkeydown = (e) => {\n            this.keyDown(e);\n\n            return !e.cancelBubble;\n        };\n\n        element.appendChild(this.renderContent());\n\n        return element;\n    }\n\n    focus() {\n        if (this._popupElement) {\n            (<HTMLElement>this._popupElement.firstElementChild).focus();\n        }\n    }\n\n    popup(rootElement: HTMLElement) {\n        if (!this._isOpen) {\n            this._overlayElement = document.createElement(\"div\");\n            this._overlayElement.className = this.hostConfig.makeCssClassName(\"ac-ctrl-overlay\");\n            this._overlayElement.tabIndex = 0;\n            this._overlayElement.style.width = document.documentElement.scrollWidth + \"px\";\n            this._overlayElement.style.height = document.documentElement.scrollHeight + \"px\";\n            this._overlayElement.onfocus = (e) => { this.closePopup(true); };\n\n            document.body.appendChild(this._overlayElement);\n\n            var rootElementBounds = rootElement.getBoundingClientRect();\n\n            this._popupElement = this.render(rootElementBounds);\n            this._popupElement.classList.remove(\n                ...this.hostConfig.makeCssClassNames(\n                    \"ac-ctrl-slide\",\n                    \"ac-ctrl-slideLeftToRight\",\n                    \"ac-ctrl-slideRightToLeft\",\n                    \"ac-ctrl-slideTopToBottom\",\n                    \"ac-ctrl-slideRightToLeft\"));\n\n            window.addEventListener(\"resize\", (e) => { this.closePopup(true); });\n\n            const rootElementLabel = rootElement.getAttribute(\"aria-label\");\n            if (rootElementLabel) {\n                this._popupElement.setAttribute(\"aria-label\", rootElementLabel);\n            }\n\n            this._overlayElement.appendChild(this._popupElement);\n\n            var popupElementBounds = this._popupElement.getBoundingClientRect();\n\n            var availableSpaceBelow = window.innerHeight - rootElementBounds.bottom;\n            var availableSpaceAbove = rootElementBounds.top;\n            var availableSpaceRight = window.innerWidth - rootElementBounds.left;\n            var availableSpaceRight = window.innerWidth - rootElementBounds.right;\n            var availableSpaceLeft = rootElementBounds.left;\n\n            var left = rootElementBounds.left + Utils.getScrollX();\n            var top;\n\n            if (availableSpaceAbove < popupElementBounds.height && availableSpaceBelow < popupElementBounds.height) {\n                // Not enough space above or below root element\n                var actualPopupHeight = Math.min(popupElementBounds.height, window.innerHeight);\n\n                this._popupElement.style.maxHeight = actualPopupHeight + \"px\";\n\n                if (actualPopupHeight < popupElementBounds.height) {\n                    top = Utils.getScrollY();\n                }\n                else {\n                    top = Utils.getScrollY() + rootElementBounds.top + (rootElementBounds.height - actualPopupHeight) /2;\n                }\n\n                if (availableSpaceLeft < popupElementBounds.width && availableSpaceRight < popupElementBounds.width) {\n                    // Not enough space left or right of root element\n                    var actualPopupWidth = Math.min(popupElementBounds.width, window.innerWidth);\n\n                    this._popupElement.style.maxWidth = actualPopupWidth + \"px\";\n\n                    if (actualPopupWidth < popupElementBounds.width) {\n                        left = Utils.getScrollX();\n                    }\n                    else {\n                        left = Utils.getScrollX() + rootElementBounds.left + (rootElementBounds.width - actualPopupWidth) /2;\n                    }\n                }\n                else {\n                    // Enough space on the left or right of the root element\n                    if (availableSpaceRight >= popupElementBounds.width) {\n                        left = Utils.getScrollX() + rootElementBounds.right;\n\n                        this._popupElement.classList.add(...this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideLeftToRight\"));\n                    }\n                    else {\n                        left = Utils.getScrollX() + rootElementBounds.left - popupElementBounds.width;\n\n                        this._popupElement.classList.add(...this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideRightToLeft\"));\n                    }\n                }\n            }\n            else {\n                // Enough space above or below root element\n                if (availableSpaceBelow >= popupElementBounds.height) {\n                    top = Utils.getScrollY() + rootElementBounds.bottom;\n\n                    this._popupElement.classList.add(...this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideTopToBottom\"));\n                }\n                else {\n                    top = Utils.getScrollY() + rootElementBounds.top - popupElementBounds.height\n\n                    this._popupElement.classList.add(...this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideBottomToTop\"));\n                }\n\n                if (availableSpaceRight < popupElementBounds.width) {\n                    left = Utils.getScrollX() + rootElementBounds.right - popupElementBounds.width;\n                }\n            }\n\n            this._popupElement.style.left = left + \"px\";\n            this._popupElement.style.top = top + \"px\";\n\n            this._popupElement.focus();\n\n            this._isOpen = true;\n        }\n    }\n\n    closePopup(wasCancelled: boolean) {\n        if (this._isOpen) {\n            document.body.removeChild(this._overlayElement);\n\n            this._isOpen = false;\n\n            if (this.onClose) {\n                this.onClose(this, wasCancelled);\n            }\n        }\n    }\n\n    get hostConfig(): HostConfig {\n        return this._hostConfig ? this._hostConfig : defaultHostConfig;\n    }\n\n    set hostConfig(value: HostConfig) {\n        this._hostConfig = value;\n    }\n\n    get isOpen(): boolean {\n        return this._isOpen;\n    }\n}\n"]},"metadata":{},"sourceType":"script"}