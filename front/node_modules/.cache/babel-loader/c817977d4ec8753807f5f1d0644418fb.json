{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _botframeworkWebchatApi = require(\"botframework-webchat-api\");\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _DownloadIcon = _interopRequireDefault(require(\"./Assets/DownloadIcon\"));\n\nvar _useStyleSet3 = _interopRequireDefault(require(\"../hooks/useStyleSet\"));\n\nvar _useStyleToEmotionObject = _interopRequireDefault(require(\"../hooks/internal/useStyleToEmotionObject\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar useByteFormatter = _botframeworkWebchatApi.hooks.useByteFormatter,\n    useDirection = _botframeworkWebchatApi.hooks.useDirection,\n    useLocalizer = _botframeworkWebchatApi.hooks.useLocalizer;\nvar ROOT_STYLE = {\n  display: 'flex',\n  '& .webchat__fileContent__buttonLink': {\n    display: 'flex',\n    flex: 1\n  },\n  '& .webchat__fileContent__badge': {\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column'\n  }\n};\nvar ALLOWED_PROTOCOLS = ['data:', 'http:', 'https:'];\n\nfunction isAllowedProtocol(url) {\n  try {\n    return ALLOWED_PROTOCOLS.includes(new URL(url).protocol);\n  } catch (err) {\n    return false;\n  }\n}\n\nvar FileContentBadge = function FileContentBadge(_ref) {\n  var downloadIcon = _ref.downloadIcon,\n      fileName = _ref.fileName,\n      size = _ref.size;\n\n  var _useDirection = useDirection(),\n      _useDirection2 = _slicedToArray(_useDirection, 1),\n      direction = _useDirection2[0];\n\n  var formatByte = useByteFormatter();\n  var localizedSize = typeof size === 'number' && formatByte(size);\n  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(\"div\", {\n    \"aria-hidden\": true,\n    className: \"webchat__fileContent__badge\"\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"webchat__fileContent__fileName\"\n  }, fileName), !!localizedSize && /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"webchat__fileContent__size\"\n  }, localizedSize)), downloadIcon && /*#__PURE__*/_react.default.createElement(_DownloadIcon.default, {\n    className: (0, _classnames.default)('webchat__fileContent__downloadIcon', direction === 'rtl' && 'webchat__fileContent__downloadIcon--rtl'),\n    size: 1.5\n  }));\n};\n\nFileContentBadge.defaultProps = {\n  downloadIcon: false,\n  size: undefined\n};\nFileContentBadge.propTypes = {\n  downloadIcon: _propTypes.default.bool,\n  fileName: _propTypes.default.string.isRequired,\n  size: _propTypes.default.number\n};\n\nvar FileContent = function FileContent(_ref2) {\n  var className = _ref2.className,\n      href = _ref2.href,\n      fileName = _ref2.fileName,\n      size = _ref2.size;\n\n  var _useStyleSet = (0, _useStyleSet3.default)(),\n      _useStyleSet2 = _slicedToArray(_useStyleSet, 1),\n      fileContentStyleSet = _useStyleSet2[0].fileContent;\n\n  var localize = useLocalizer();\n  var localizeBytes = useByteFormatter();\n  var rootClassName = (0, _useStyleToEmotionObject.default)()(ROOT_STYLE) + '';\n  var localizedSize = typeof size === 'number' && localizeBytes(size);\n  href = href && isAllowedProtocol(href) ? href : undefined;\n  var alt = localize(href ? localizedSize ? 'FILE_CONTENT_DOWNLOADABLE_WITH_SIZE_ALT' : 'FILE_CONTENT_DOWNLOADABLE_ALT' : localizedSize ? 'FILE_CONTENT_WITH_SIZE_ALT' : 'FILE_CONTENT_ALT', fileName, localizedSize);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: (0, _classnames.default)('webchat__fileContent', rootClassName, fileContentStyleSet + '', (className || '') + '')\n  }, href ? /*#__PURE__*/_react.default.createElement(\"a\", {\n    \"aria-label\": alt,\n    className: \"webchat__fileContent__buttonLink\",\n    download: fileName,\n    href: href,\n    rel: \"noopener noreferrer\",\n    target: \"_blank\"\n  }, /*#__PURE__*/_react.default.createElement(FileContentBadge, {\n    downloadIcon: true,\n    fileName: fileName,\n    size: size\n  })) : /*#__PURE__*/_react.default.createElement(FileContentBadge, {\n    downloadIcon: false,\n    fileName: fileName,\n    size: size\n  }));\n};\n\nFileContent.defaultProps = {\n  className: '',\n  href: undefined,\n  size: undefined\n};\nFileContent.propTypes = {\n  className: _propTypes.default.string,\n  fileName: _propTypes.default.string.isRequired,\n  href: _propTypes.default.string,\n  size: _propTypes.default.number\n};\nvar _default = FileContent;\nexports.default = _default;","map":{"version":3,"mappings":"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","names":["useByteFormatter","hooks","useDirection","useLocalizer","ROOT_STYLE","display","flex","flexDirection","ALLOWED_PROTOCOLS","isAllowedProtocol","url","includes","URL","protocol","err","FileContentBadge","downloadIcon","fileName","size","direction","formatByte","localizedSize","_react","Fragment","className","_DownloadIcon","defaultProps","undefined","propTypes","PropTypes","bool","string","isRequired","number","FileContent","href","fileContentStyleSet","fileContent","localize","localizeBytes","rootClassName","alt","download","rel","target"],"sources":["/Users/dylanmurray/Sweng-2022/front/node_modules/botframework-webchat-component/lib/src/Attachment/FileContent.tsx"],"sourcesContent":["import { hooks } from 'botframework-webchat-api';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { FC } from 'react';\n\nimport DownloadIcon from './Assets/DownloadIcon';\nimport useStyleSet from '../hooks/useStyleSet';\nimport useStyleToEmotionObject from '../hooks/internal/useStyleToEmotionObject';\n\nconst { useByteFormatter, useDirection, useLocalizer } = hooks;\n\nconst ROOT_STYLE = {\n  display: 'flex',\n\n  '& .webchat__fileContent__buttonLink': {\n    display: 'flex',\n    flex: 1\n  },\n\n  '& .webchat__fileContent__badge': {\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column'\n  }\n};\n\nconst ALLOWED_PROTOCOLS = ['data:', 'http:', 'https:'];\n\nfunction isAllowedProtocol(url) {\n  try {\n    return ALLOWED_PROTOCOLS.includes(new URL(url).protocol);\n  } catch (err) {\n    return false;\n  }\n}\n\nconst FileContentBadge = ({ downloadIcon, fileName, size }) => {\n  const [direction] = useDirection();\n  const formatByte = useByteFormatter();\n\n  const localizedSize = typeof size === 'number' && formatByte(size);\n\n  return (\n    <React.Fragment>\n      <div aria-hidden={true} className=\"webchat__fileContent__badge\">\n        <div className=\"webchat__fileContent__fileName\">{fileName}</div>\n        {!!localizedSize && <div className=\"webchat__fileContent__size\">{localizedSize}</div>}\n      </div>\n      {downloadIcon && (\n        <DownloadIcon\n          className={classNames(\n            'webchat__fileContent__downloadIcon',\n            direction === 'rtl' && 'webchat__fileContent__downloadIcon--rtl'\n          )}\n          size={1.5}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n\nFileContentBadge.defaultProps = {\n  downloadIcon: false,\n  size: undefined\n};\n\nFileContentBadge.propTypes = {\n  downloadIcon: PropTypes.bool,\n  fileName: PropTypes.string.isRequired,\n  size: PropTypes.number\n};\n\ntype FileContentProps = {\n  className?: string;\n  fileName: string;\n  href?: string;\n  size?: number;\n};\n\nconst FileContent: FC<FileContentProps> = ({ className, href, fileName, size }) => {\n  const [{ fileContent: fileContentStyleSet }] = useStyleSet();\n  const localize = useLocalizer();\n  const localizeBytes = useByteFormatter();\n  const rootClassName = useStyleToEmotionObject()(ROOT_STYLE) + '';\n\n  const localizedSize = typeof size === 'number' && localizeBytes(size);\n\n  href = href && isAllowedProtocol(href) ? href : undefined;\n\n  const alt = localize(\n    href\n      ? localizedSize\n        ? 'FILE_CONTENT_DOWNLOADABLE_WITH_SIZE_ALT'\n        : 'FILE_CONTENT_DOWNLOADABLE_ALT'\n      : localizedSize\n      ? 'FILE_CONTENT_WITH_SIZE_ALT'\n      : 'FILE_CONTENT_ALT',\n    fileName,\n    localizedSize\n  );\n\n  return (\n    <div\n      className={classNames('webchat__fileContent', rootClassName, fileContentStyleSet + '', (className || '') + '')}\n    >\n      {href ? (\n        <a\n          aria-label={alt}\n          className=\"webchat__fileContent__buttonLink\"\n          download={fileName}\n          href={href}\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n        >\n          <FileContentBadge downloadIcon={true} fileName={fileName} size={size} />\n        </a>\n      ) : (\n        <FileContentBadge downloadIcon={false} fileName={fileName} size={size} />\n      )}\n    </div>\n  );\n};\n\nFileContent.defaultProps = {\n  className: '',\n  href: undefined,\n  size: undefined\n};\n\nFileContent.propTypes = {\n  className: PropTypes.string,\n  fileName: PropTypes.string.isRequired,\n  href: PropTypes.string,\n  size: PropTypes.number\n};\n\nexport default FileContent;\n"]},"metadata":{},"sourceType":"script"}