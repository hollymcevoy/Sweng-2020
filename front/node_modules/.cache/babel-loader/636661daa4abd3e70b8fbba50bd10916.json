{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _pDefer = _interopRequireDefault(require(\"./external/p-defer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar EventAsPromise = /*#__PURE__*/function () {\n  function EventAsPromise() {\n    var _this = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, EventAsPromise);\n\n    this.defers = [];\n    this.upcomingDeferred = null;\n    this.eventListener = this.eventListener.bind(this);\n    this.options = options;\n    this.one = this.one.bind(this);\n    this.upcoming = this.upcoming.bind(this);\n\n    this[Symbol.iterator] = function () {\n      return {\n        next: function next() {\n          return {\n            done: false,\n            value: _this.upcoming()\n          };\n        }\n      };\n    };\n  }\n\n  _createClass(EventAsPromise, [{\n    key: \"eventListener\",\n    value: function eventListener(event) {\n      var deferred = this.defers.shift();\n      var args = this.options.array ? [].slice.call(arguments) : event;\n      deferred && deferred.resolve(args);\n\n      if (this.upcomingDeferred) {\n        this.upcomingDeferred.resolve(args);\n        this.upcomingDeferred = null;\n      }\n    }\n  }, {\n    key: \"one\",\n    value: function one() {\n      var deferred = (0, _pDefer.default)();\n      this.defers.push(deferred);\n      return deferred.promise;\n    }\n  }, {\n    key: \"upcoming\",\n    value: function upcoming() {\n      if (!this.upcomingDeferred) {\n        this.upcomingDeferred = (0, _pDefer.default)();\n      }\n\n      return this.upcomingDeferred.promise;\n    }\n  }]);\n\n  return EventAsPromise;\n}();\n\nexports.default = EventAsPromise;\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","map":{"version":3,"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEqBA,c;AACnB,4BAA0B;AAAA;;AAAA,QAAdC,OAAc,uEAAJ,EAAI;;AAAAC;;AACxB,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKC,gBAAL,GAAwB,IAAxB;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKL,OAAL,GAAeA,OAAf;AAEA,SAAKM,GAAL,GAAW,KAAKA,GAAL,CAASD,IAAT,CAAc,IAAd,CAAX;AACA,SAAKE,QAAL,GAAgB,KAAKA,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAhB;;AAEA,SAAKG,MAAM,CAACC,QAAZ,IAAwB;AAAA,aAAO;AAC7BC,YAAI,EAAE;AAAA,iBAAO;AACXC,gBAAI,EAAE,KADK;AAEXC,iBAAK,EAAEC,KAAI,CAACN,QAAL;AAFI,WAAP;AAAA;AADuB,OAAP;AAAxB;AAMD;;;;kCAEaO,OAAO;AACnB,UAAMC,QAAQ,GAAG,KAAKb,MAAL,CAAYc,KAAZ,EAAjB;AACA,UAAMC,IAAI,GAAG,KAAKjB,OAAL,CAAakB,KAAb,GAAqB,GAAGC,KAAH,CAASC,IAAT,CAAcC,SAAd,CAArB,GAAgDP,KAA7D;AAEAC,cAAQ,IAAIA,QAAQ,CAACO,OAATP,CAAiBE,IAAjBF,CAAZA;;AAEA,UAAI,KAAKZ,gBAAT,EAA2B;AACzB,aAAKA,gBAAL,CAAsBmB,OAAtB,CAA8BL,IAA9B;AACA,aAAKd,gBAAL,GAAwB,IAAxB;AACD;AACF;;;0BAEK;AACJ,UAAMY,QAAQ,GAAG,sBAAjB;AAEA,WAAKb,MAAL,CAAYqB,IAAZ,CAAiBR,QAAjB;AAEA,aAAOA,QAAQ,CAACS,OAAhB;AACD;;;+BAEU;AACT,UAAI,CAAC,KAAKrB,gBAAV,EAA4B;AAC1B,aAAKA,gBAAL,GAAwB,sBAAxB;AACD;;AAED,aAAO,KAAKA,gBAAL,CAAsBqB,OAA7B;AACD","names":["EventAsPromise","options","_classCallCheck","defers","upcomingDeferred","eventListener","bind","one","upcoming","Symbol","iterator","next","done","value","_this","event","deferred","shift","args","array","slice","call","arguments","resolve","push","promise"],"sources":["/Users/dylanmurray/Sweng-2022/front/node_modules/event-as-promise/src/index.js"],"sourcesContent":["import createDeferred from './external/p-defer';\n\nexport default class EventAsPromise {\n  constructor(options = {}) {\n    this.defers = [];\n    this.upcomingDeferred = null;\n    this.eventListener = this.eventListener.bind(this);\n    this.options = options;\n\n    this.one = this.one.bind(this);\n    this.upcoming = this.upcoming.bind(this);\n\n    this[Symbol.iterator] = () => ({\n      next: () => ({\n        done: false,\n        value: this.upcoming()\n      })\n    });\n  }\n\n  eventListener(event) {\n    const deferred = this.defers.shift();\n    const args = this.options.array ? [].slice.call(arguments) : event;\n\n    deferred && deferred.resolve(args);\n\n    if (this.upcomingDeferred) {\n      this.upcomingDeferred.resolve(args);\n      this.upcomingDeferred = null;\n    }\n  }\n\n  one() {\n    const deferred = createDeferred();\n\n    this.defers.push(deferred);\n\n    return deferred.promise;\n  }\n\n  upcoming() {\n    if (!this.upcomingDeferred) {\n      this.upcomingDeferred = createDeferred();\n    }\n\n    return this.upcomingDeferred.promise;\n  }\n}\n"]},"metadata":{},"sourceType":"script"}