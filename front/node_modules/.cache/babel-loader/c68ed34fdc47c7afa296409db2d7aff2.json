{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useCreateActivityRendererInternal;\n\nvar _react = require(\"react\");\n\nvar _useRenderAttachment = _interopRequireDefault(require(\"../useRenderAttachment\"));\n\nvar _useWebChatAPIContext2 = _interopRequireDefault(require(\"./useWebChatAPIContext\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction useCreateActivityRendererInternal(renderAttachmentOverride) {\n  var _useWebChatAPIContext = (0, _useWebChatAPIContext2.default)(),\n      createActivityRenderer = _useWebChatAPIContext.activityRenderer;\n\n  var defaultRenderAttachment = (0, _useRenderAttachment.default)();\n  var renderAttachment = renderAttachmentOverride || defaultRenderAttachment;\n  return (0, _react.useMemo)(function () {\n    return function () {\n      var renderActivity = createActivityRenderer.apply(void 0, arguments);\n\n      if (!renderActivity) {\n        return false;\n      }\n\n      return function (renderActivityOptions) {\n        if ( /*#__PURE__*/(0, _react.isValidElement)(renderActivity)) {\n          return renderActivity;\n        }\n\n        var activityElement = renderActivity(function () {\n          return renderAttachment.apply(void 0, arguments);\n        }, renderActivityOptions); // \"activityElement\" cannot be false. If the middleware want to hide the \"activityElement\", it should return \"false\" when we call createActivityRenderer().\n\n        activityElement || console.warn('botframework-webchat: To hide an activity, the activity renderer should return false. It should not return a function that will return false when called.');\n        return activityElement;\n      };\n    };\n  }, [createActivityRenderer, renderAttachment]);\n}","map":{"version":3,"mappings":";;;;;;;AAAA;;AAIA;;AACA;;;;;;;;AAEe,SAASA,iCAAT,CACbC,wBADa,EAEa;AAC1B,8BAAqD,qCAArD;AAAA,MAA0BC,sBAA1B,yBAAQC,gBAAR;;AACA,MAAMC,uBAAuB,GAAG,mCAAhC;AAEA,MAAMC,gBAAkC,GAAGJ,wBAAwB,IAAIG,uBAAvE;AAEA,SAAO,oBACL;AAAA,WACE,YAAsC;AACpC,UAAME,cAAc,GAAGJ,sBAAsB,MAAtBA,mBAAvB;;AAEA,UAAI,CAACI,cAAL,EAAqB;AACnB,eAAO,KAAP;AACD;;AAED,aAAO,iCAAyB;AAC9B,0BAAI,2BAAeA,cAAf,CAAJ,EAAoC;AAClC,iBAAOA,cAAP;AACD;;AAED,YAAMC,eAAe,GAAGD,cAAc,CACpC;AAAA,iBAA6BD,gBAAgB,MAAhBA,mBAA7B;AADoC,WAEpCG,qBAFoC,CAAtC,CAL8B,CAU9B;;AACAD,uBAAe,IACbE,OAAO,CAACC,IAARD,CACE,2JADFA,CADFF;AAKA,eAAOA,eAAP;AAhBF;AARJ;AADK,KA4BL,CAACL,sBAAD,EAAyBG,gBAAzB,CA5BK,CAAP;AA8BD","names":["useCreateActivityRendererInternal","renderAttachmentOverride","createActivityRenderer","activityRenderer","defaultRenderAttachment","renderAttachment","renderActivity","activityElement","renderActivityOptions","console","warn"],"sources":["/Users/dylanmurray/Sweng-2022/front/node_modules/botframework-webchat-api/lib/src/hooks/internal/useCreateActivityRendererInternal.ts"],"sourcesContent":["import { isValidElement, useMemo } from 'react';\n\nimport { ActivityComponentFactory } from '../../types/ActivityMiddleware';\nimport { RenderAttachment } from '../../types/AttachmentMiddleware';\nimport useRenderAttachment from '../useRenderAttachment';\nimport useWebChatAPIContext from './useWebChatAPIContext';\n\nexport default function useCreateActivityRendererInternal(\n  renderAttachmentOverride?: RenderAttachment\n): ActivityComponentFactory {\n  const { activityRenderer: createActivityRenderer } = useWebChatAPIContext();\n  const defaultRenderAttachment = useRenderAttachment();\n\n  const renderAttachment: RenderAttachment = renderAttachmentOverride || defaultRenderAttachment;\n\n  return useMemo(\n    () =>\n      (...createActivityRendererOptions) => {\n        const renderActivity = createActivityRenderer(...createActivityRendererOptions);\n\n        if (!renderActivity) {\n          return false;\n        }\n\n        return renderActivityOptions => {\n          if (isValidElement(renderActivity)) {\n            return renderActivity;\n          }\n\n          const activityElement = renderActivity(\n            (...renderAttachmentArgs) => renderAttachment(...renderAttachmentArgs),\n            renderActivityOptions\n          );\n\n          // \"activityElement\" cannot be false. If the middleware want to hide the \"activityElement\", it should return \"false\" when we call createActivityRenderer().\n          activityElement ||\n            console.warn(\n              'botframework-webchat: To hide an activity, the activity renderer should return false. It should not return a function that will return false when called.'\n            );\n\n          return activityElement;\n        };\n      },\n    [createActivityRenderer, renderAttachment]\n  );\n}\n"]},"metadata":{},"sourceType":"script"}