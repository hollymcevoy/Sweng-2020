{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = startDictateOnSpeakCompleteSaga;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _effects = require(\"redux-saga/effects\");\n\nvar _markActivity = require(\"../actions/markActivity\");\n\nvar _activities = require(\"../selectors/activities\");\n\nvar _setDictateState = require(\"../actions/setDictateState\");\n\nvar _DictateState = require(\"../constants/DictateState\");\n\nvar _dictateState = _interopRequireDefault(require(\"../selectors/dictateState\"));\n\nvar _speakingActivity = _interopRequireDefault(require(\"../definitions/speakingActivity\"));\n\nvar _startDictate = _interopRequireDefault(require(\"../actions/startDictate\"));\n\nvar _marked = /*#__PURE__*/_regenerator[\"default\"].mark(startDictateOnSpeakComplete),\n    _marked2 = /*#__PURE__*/_regenerator[\"default\"].mark(startDictateOnSpeakCompleteSaga);\n\nfunction startDictateOnSpeakComplete() {\n  var speakingActivities, dictateState;\n  return _regenerator[\"default\"].wrap(function startDictateOnSpeakComplete$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return (0, _effects.select)((0, _activities.of)(_speakingActivity[\"default\"]));\n\n        case 2:\n          speakingActivities = _context.sent;\n          _context.next = 5;\n          return (0, _effects.select)(_dictateState[\"default\"]);\n\n        case 5:\n          dictateState = _context.sent;\n\n          if (!(dictateState === _DictateState.WILL_START && !speakingActivities.length)) {\n            _context.next = 9;\n            break;\n          }\n\n          _context.next = 9;\n          return (0, _effects.put)((0, _startDictate[\"default\"])());\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n} // TODO: [P4] We should turn this into a reducer instead\n\n\nfunction startDictateOnSpeakCompleteSaga() {\n  return _regenerator[\"default\"].wrap(function startDictateOnSpeakCompleteSaga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return (0, _effects.takeEvery)(function (_ref) {\n            var type = _ref.type;\n            return type === _markActivity.MARK_ACTIVITY || type === _setDictateState.SET_DICTATE_STATE;\n          }, startDictateOnSpeakComplete);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}","map":{"version":3,"mappings":";;;;;;;;;;;AAAA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;wDAEUA;yDAUeC;;AAVzB,SAAUD,2BAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAAE;AAC6B,iBAAM,qBAAO,oBAAaC,4BAAb,CAAP,CAAN;;AAD7B;AACQC,4BADR,gBACQA;AADRF;AAEuB,iBAAM,qBAAOG,wBAAP,CAAN;;AAFvB;AAEQC,sBAFR,gBAEQA;;AAFR,gBAIMA,YAAY,KAAKC,wBAAjBD,IAA+B,CAACF,kBAAkB,CAACI,MAJzD;AAAAN;AAAA;AAAA;;AAAAA;AAKI,iBAAM,kBAAI,+BAAJ,CAAN;;AALJ;AAAA;AAAA;AAAA;AAAA;AAAA;EASA;;;AACe,SAAUD,+BAAV;AAAA;AAAA;AAAA;AAAA;AAAAQ;AACb,iBAAM,wBAAU;AAAA,gBAAGC,IAAH,QAAGA,IAAH;AAAA,mBAAcA,IAAI,KAAKC,2BAATD,IAA0BA,IAAI,KAAKE,kCAAjD;AAAV,aAA8EZ,2BAA9E,CAAN;;AADa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","names":["startDictateOnSpeakComplete","startDictateOnSpeakCompleteSaga","_context","speakingActivity","speakingActivities","dictateStateSelector","dictateState","WILL_START","length","_context2","type","MARK_ACTIVITY","SET_DICTATE_STATE"],"sources":["/Users/dylanmurray/Sweng-2022/front/node_modules/botframework-webchat-core/lib/src/sagas/startDictateOnSpeakCompleteSaga.js"],"sourcesContent":["import { put, select, takeEvery } from 'redux-saga/effects';\n\nimport { MARK_ACTIVITY } from '../actions/markActivity';\nimport { of as activitiesOf } from '../selectors/activities';\nimport { SET_DICTATE_STATE } from '../actions/setDictateState';\nimport { WILL_START } from '../constants/DictateState';\nimport dictateStateSelector from '../selectors/dictateState';\nimport speakingActivity from '../definitions/speakingActivity';\nimport startDictate from '../actions/startDictate';\n\nfunction* startDictateOnSpeakComplete() {\n  const speakingActivities = yield select(activitiesOf(speakingActivity));\n  const dictateState = yield select(dictateStateSelector);\n\n  if (dictateState === WILL_START && !speakingActivities.length) {\n    yield put(startDictate());\n  }\n}\n\n// TODO: [P4] We should turn this into a reducer instead\nexport default function* startDictateOnSpeakCompleteSaga() {\n  yield takeEvery(({ type }) => type === MARK_ACTIVITY || type === SET_DICTATE_STATE, startDictateOnSpeakComplete);\n}\n"]},"metadata":{},"sourceType":"script"}