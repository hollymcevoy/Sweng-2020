{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = observableToPromise;\n\nfunction observableToPromise(observable) {\n  return new Promise(function (resolve, reject) {\n    var subscription = observable.subscribe(function (sessionId) {\n      resolve(sessionId); // HACK: Sometimes, the call complete asynchronously and we cannot unsubscribe\n      //       Need to wait some short time here to make sure the subscription variable has setup\n\n      setTimeout(function () {\n        return subscription.unsubscribe();\n      }, 0);\n    }, function (error) {\n      reject(error);\n      setTimeout(function () {\n        return subscription.unsubscribe();\n      }, 0);\n    });\n  });\n}","map":{"version":3,"mappings":";;;;;;;AAEe,SAASA,mBAAT,CAAgCC,UAAhC,EAAuE;AACpF,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,QAAMC,YAAY,GAAGJ,UAAU,CAACK,SAAXL,CACnB,UAACM,SAAD,EAAkB;AAChBJ,aAAO,CAACI,SAAD,CAAPJ,CADgB,CAGhB;AACA;;AACAK,gBAAU,CAAC;AAAA,eAAMH,YAAY,CAACI,WAAbJ,EAAN;AAAD,SAAmC,CAAnC,CAAVG;AANiB,OAQnB,UAACE,KAAD,EAAkB;AAChBN,YAAM,CAACM,KAAD,CAANN;AACAI,gBAAU,CAAC;AAAA,eAAMH,YAAY,CAACI,WAAbJ,EAAN;AAAD,SAAmC,CAAnC,CAAVG;AAViB,MAArB;AADK,IAAP;AAeD","names":["observableToPromise","observable","Promise","resolve","reject","subscription","subscribe","sessionId","setTimeout","unsubscribe","error"],"sources":["/Users/dylanmurray/Sweng-2022/front/node_modules/botframework-webchat-api/lib/src/hooks/utils/observableToPromise.ts"],"sourcesContent":["import Observable from 'core-js/features/observable';\n\nexport default function observableToPromise<T>(observable: Observable<T>): Promise<T> {\n  return new Promise((resolve, reject) => {\n    const subscription = observable.subscribe(\n      (sessionId: T) => {\n        resolve(sessionId);\n\n        // HACK: Sometimes, the call complete asynchronously and we cannot unsubscribe\n        //       Need to wait some short time here to make sure the subscription variable has setup\n        setTimeout(() => subscription.unsubscribe(), 0);\n      },\n      (error: Error) => {\n        reject(error);\n        setTimeout(() => subscription.unsubscribe(), 0);\n      }\n    );\n  });\n}\n"]},"metadata":{},"sourceType":"script"}