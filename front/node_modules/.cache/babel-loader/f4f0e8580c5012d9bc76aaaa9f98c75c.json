{"ast":null,"code":"\"use strict\"; // Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VoiceProfileEnrollmentCancellationDetails = exports.VoiceProfileEnrollmentResult = void 0;\n\nvar Exports_1 = require(\"../common.speech/Exports\");\n\nvar Exports_2 = require(\"./Exports\");\n/**\n * Output format\n * @class VoiceProfileEnrollmentResult\n */\n\n\nvar VoiceProfileEnrollmentResult =\n/** @class */\nfunction () {\n  function VoiceProfileEnrollmentResult(reason, json, statusText) {\n    this.privReason = reason;\n    this.privProperties = new Exports_2.PropertyCollection();\n\n    if (this.privReason !== Exports_2.ResultReason.Canceled) {\n      if (!!json) {\n        this.privDetails = JSON.parse(json);\n\n        if (this.privDetails.enrollmentStatus.toLowerCase() === \"enrolling\") {\n          this.privReason = Exports_2.ResultReason.EnrollingVoiceProfile;\n        }\n      }\n    } else {\n      this.privErrorDetails = statusText;\n      this.privProperties.setProperty(Exports_1.CancellationErrorCodePropertyName, Exports_2.CancellationErrorCode[Exports_2.CancellationErrorCode.ServiceError]);\n    }\n  }\n\n  VoiceProfileEnrollmentResult.FromIdentificationProfileList = function (json) {\n    var results = [];\n\n    for (var _i = 0, _a = json.profiles; _i < _a.length; _i++) {\n      var item = _a[_i];\n      var reason = item.enrollmentStatus.toLowerCase() === \"enrolling\" ? Exports_2.ResultReason.EnrollingVoiceProfile : item.enrollmentStatus.toLowerCase() === \"enrolled\" ? Exports_2.ResultReason.EnrolledVoiceProfile : Exports_2.ResultReason.Canceled;\n      var result = new VoiceProfileEnrollmentResult(reason, null, null);\n      result.privDetails = this.getIdentificationDetails(item);\n      results.push(result);\n    }\n\n    return results;\n  };\n\n  VoiceProfileEnrollmentResult.FromVerificationProfileList = function (json) {\n    var results = [];\n\n    for (var _i = 0, _a = json.profiles; _i < _a.length; _i++) {\n      var item = _a[_i];\n      var reason = item.enrollmentStatus.toLowerCase() === \"enrolling\" ? Exports_2.ResultReason.EnrollingVoiceProfile : item.enrollmentStatus.toLowerCase() === \"enrolled\" ? Exports_2.ResultReason.EnrolledVoiceProfile : Exports_2.ResultReason.Canceled;\n      var result = new VoiceProfileEnrollmentResult(reason, null, null);\n      result.privDetails = this.getVerificationDetails(item);\n      results.push(result);\n    }\n\n    return results;\n  };\n\n  Object.defineProperty(VoiceProfileEnrollmentResult.prototype, \"reason\", {\n    get: function () {\n      return this.privReason;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(VoiceProfileEnrollmentResult.prototype, \"enrollmentsCount\", {\n    get: function () {\n      return this.privDetails.enrollmentsCount;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(VoiceProfileEnrollmentResult.prototype, \"enrollmentsLength\", {\n    get: function () {\n      return this.privDetails.enrollmentsLength;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(VoiceProfileEnrollmentResult.prototype, \"properties\", {\n    get: function () {\n      return this.privProperties;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(VoiceProfileEnrollmentResult.prototype, \"enrollmentResultDetails\", {\n    get: function () {\n      return this.privDetails;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(VoiceProfileEnrollmentResult.prototype, \"errorDetails\", {\n    get: function () {\n      return this.privErrorDetails;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  VoiceProfileEnrollmentResult.getIdentificationDetails = function (json) {\n    return {\n      audioSpeechLength: json.speechTime ? parseFloat(json.speechTime) : 0,\n      enrollmentStatus: json.enrollmentStatus,\n      enrollmentsLength: json.enrollmentSpeechTime ? parseFloat(json.enrollmentSpeechTime) : 0,\n      profileId: json.profileId || json.identificationProfileId,\n      remainingEnrollmentSpeechLength: json.remainingEnrollmentSpeechTime ? parseFloat(json.remainingEnrollmentSpeechTime) : 0\n    };\n  };\n\n  VoiceProfileEnrollmentResult.getVerificationDetails = function (json) {\n    return {\n      enrollmentStatus: json.enrollmentStatus,\n      enrollmentsCount: json.enrollmentsCount,\n      profileId: json.profileId || json.verificationProfileId,\n      remainingEnrollmentSpeechLength: json.remainingEnrollmentSpeechLength ? parseFloat(json.remainingEnrollmentSpeechLength) : 0,\n      remainingEnrollmentsCount: json.remainingEnrollments || json.remainingEnrollmentsCount\n    };\n  };\n\n  return VoiceProfileEnrollmentResult;\n}();\n\nexports.VoiceProfileEnrollmentResult = VoiceProfileEnrollmentResult;\n/**\n * @class VoiceProfileEnrollmentCancellationDetails\n */\n// tslint:disable-next-line:max-classes-per-file\n\nvar VoiceProfileEnrollmentCancellationDetails =\n/** @class */\nfunction (_super) {\n  __extends(VoiceProfileEnrollmentCancellationDetails, _super);\n\n  function VoiceProfileEnrollmentCancellationDetails(reason, errorDetails, errorCode) {\n    return _super.call(this, reason, errorDetails, errorCode) || this;\n  }\n  /**\n   * Creates an instance of VoiceProfileEnrollmentCancellationDetails object for the canceled VoiceProfileEnrollmentResult.\n   * @member VoiceProfileEnrollmentCancellationDetails.fromResult\n   * @function\n   * @public\n   * @param {VoiceProfileEnrollmentResult} result - The result that was canceled.\n   * @returns {VoiceProfileEnrollmentCancellationDetails} The cancellation details object being created.\n   */\n\n\n  VoiceProfileEnrollmentCancellationDetails.fromResult = function (result) {\n    var reason = Exports_2.CancellationReason.Error;\n    var errorCode = Exports_2.CancellationErrorCode.NoError;\n\n    if (!!result.properties) {\n      errorCode = Exports_2.CancellationErrorCode[result.properties.getProperty(Exports_1.CancellationErrorCodePropertyName, Exports_2.CancellationErrorCode[Exports_2.CancellationErrorCode.NoError])];\n    }\n\n    return new VoiceProfileEnrollmentCancellationDetails(reason, result.errorDetails, errorCode);\n  };\n\n  return VoiceProfileEnrollmentCancellationDetails;\n}(Exports_2.CancellationDetailsBase);\n\nexports.VoiceProfileEnrollmentCancellationDetails = VoiceProfileEnrollmentCancellationDetails;","map":{"version":3,"mappings":"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","names":["reason","json","statusText","privReason","privProperties","Exports_2","Canceled","privDetails","JSON","parse","enrollmentStatus","toLowerCase","EnrollingVoiceProfile","privErrorDetails","setProperty","Exports_1","ServiceError","VoiceProfileEnrollmentResult","results","profiles","_i","item","EnrolledVoiceProfile","result","getIdentificationDetails","push","getVerificationDetails","Object","enrollmentsCount","enrollmentsLength","audioSpeechLength","speechTime","parseFloat","enrollmentSpeechTime","profileId","identificationProfileId","remainingEnrollmentSpeechLength","remainingEnrollmentSpeechTime","verificationProfileId","remainingEnrollmentsCount","remainingEnrollments","exports","__extends","errorDetails","errorCode","_super","VoiceProfileEnrollmentCancellationDetails","Error","NoError","properties","getProperty"],"sources":["/Users/dylanmurray/Sweng-2022/front/node_modules/microsoft-cognitiveservices-speech-sdk/distrib/lib/src/sdk/src/sdk/VoiceProfileEnrollmentResult.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license.\r\n\r\nimport { CancellationErrorCodePropertyName } from \"../common.speech/Exports\";\r\nimport { Contracts } from \"./Contracts\";\r\nimport {\r\n    CancellationDetailsBase,\r\n    CancellationErrorCode,\r\n    CancellationReason,\r\n    PropertyCollection,\r\n    ResultReason,\r\n} from \"./Exports\";\r\n\r\nexport interface EnrollmentResultDetails {\r\n    profileId: string;\r\n    enrollmentsCount: number;\r\n    enrollmentsLength: number;\r\n    enrollmentsSpeechLength: number;\r\n    remainingEnrollmentsCount: number;\r\n    remainingEnrollmentsSpeechLength: number;\r\n    audioLength: number;\r\n    audioSpeechLength: number;\r\n    enrollmentStatus: string;\r\n}\r\n\r\n/**\r\n * Output format\r\n * @class VoiceProfileEnrollmentResult\r\n */\r\nexport class VoiceProfileEnrollmentResult {\r\n    private privReason: ResultReason;\r\n    private privDetails: EnrollmentResultDetails;\r\n    private privProperties: PropertyCollection;\r\n    private privErrorDetails: string;\r\n\r\n    public constructor(reason: ResultReason, json: string, statusText: string) {\r\n        this.privReason = reason;\r\n        this.privProperties = new PropertyCollection();\r\n        if (this.privReason !== ResultReason.Canceled) {\r\n            if (!!json) {\r\n                this.privDetails = JSON.parse(json);\r\n                if (this.privDetails.enrollmentStatus.toLowerCase() === \"enrolling\") {\r\n                    this.privReason = ResultReason.EnrollingVoiceProfile;\r\n                }\r\n            }\r\n        } else {\r\n            this.privErrorDetails = statusText;\r\n            this.privProperties.setProperty(CancellationErrorCodePropertyName, CancellationErrorCode[CancellationErrorCode.ServiceError]);\r\n        }\r\n    }\r\n\r\n    public static FromIdentificationProfileList(json: { profiles: any[] }): VoiceProfileEnrollmentResult[] {\r\n        const results: VoiceProfileEnrollmentResult[] = [];\r\n        for (const item of json.profiles) {\r\n            const reason: ResultReason = item.enrollmentStatus.toLowerCase() === \"enrolling\" ?\r\n                ResultReason.EnrollingVoiceProfile : item.enrollmentStatus.toLowerCase() === \"enrolled\" ?\r\n                ResultReason.EnrolledVoiceProfile : ResultReason.Canceled;\r\n            const result = new VoiceProfileEnrollmentResult(reason, null, null);\r\n            result.privDetails = this.getIdentificationDetails(item);\r\n            results.push(result);\r\n        }\r\n        return results;\r\n    }\r\n\r\n    public static FromVerificationProfileList(json: { profiles: any[] }): VoiceProfileEnrollmentResult[] {\r\n        const results: VoiceProfileEnrollmentResult[] = [];\r\n        for (const item of json.profiles) {\r\n            const reason: ResultReason = item.enrollmentStatus.toLowerCase() === \"enrolling\" ?\r\n                ResultReason.EnrollingVoiceProfile : item.enrollmentStatus.toLowerCase() === \"enrolled\" ?\r\n                ResultReason.EnrolledVoiceProfile : ResultReason.Canceled;\r\n            const result = new VoiceProfileEnrollmentResult(reason, null, null);\r\n            result.privDetails = this.getVerificationDetails(item);\r\n            results.push(result);\r\n        }\r\n        return results;\r\n    }\r\n\r\n    public get reason(): ResultReason {\r\n        return this.privReason;\r\n    }\r\n\r\n    public get enrollmentsCount(): number {\r\n        return this.privDetails.enrollmentsCount;\r\n    }\r\n\r\n    public get enrollmentsLength(): number {\r\n        return this.privDetails.enrollmentsLength;\r\n    }\r\n\r\n    public get properties(): PropertyCollection {\r\n        return this.privProperties;\r\n    }\r\n\r\n    public get enrollmentResultDetails(): EnrollmentResultDetails {\r\n        return this.privDetails;\r\n    }\r\n\r\n    public get errorDetails(): string {\r\n        return this.privErrorDetails;\r\n    }\r\n\r\n    private static getIdentificationDetails(json: any): any {\r\n        return {\r\n            audioSpeechLength: json.speechTime ? parseFloat(json.speechTime) : 0,\r\n            enrollmentStatus: json.enrollmentStatus,\r\n            enrollmentsLength: json.enrollmentSpeechTime ? parseFloat(json.enrollmentSpeechTime) : 0,\r\n            profileId: json.profileId || json.identificationProfileId,\r\n            remainingEnrollmentSpeechLength: json.remainingEnrollmentSpeechTime ? parseFloat(json.remainingEnrollmentSpeechTime) : 0\r\n        };\r\n    }\r\n\r\n    private static getVerificationDetails(json: any): any {\r\n        return {\r\n            enrollmentStatus: json.enrollmentStatus,\r\n            enrollmentsCount: json.enrollmentsCount,\r\n            profileId: json.profileId || json.verificationProfileId,\r\n            remainingEnrollmentSpeechLength: json.remainingEnrollmentSpeechLength ? parseFloat(json.remainingEnrollmentSpeechLength) : 0,\r\n            remainingEnrollmentsCount: json.remainingEnrollments || json.remainingEnrollmentsCount\r\n        };\r\n    }\r\n}\r\n\r\n/**\r\n * @class VoiceProfileEnrollmentCancellationDetails\r\n */\r\n// tslint:disable-next-line:max-classes-per-file\r\nexport class VoiceProfileEnrollmentCancellationDetails extends CancellationDetailsBase {\r\n\r\n    private constructor(reason: CancellationReason, errorDetails: string, errorCode: CancellationErrorCode) {\r\n        super(reason, errorDetails, errorCode);\r\n    }\r\n\r\n    /**\r\n     * Creates an instance of VoiceProfileEnrollmentCancellationDetails object for the canceled VoiceProfileEnrollmentResult.\r\n     * @member VoiceProfileEnrollmentCancellationDetails.fromResult\r\n     * @function\r\n     * @public\r\n     * @param {VoiceProfileEnrollmentResult} result - The result that was canceled.\r\n     * @returns {VoiceProfileEnrollmentCancellationDetails} The cancellation details object being created.\r\n     */\r\n    public static fromResult(result: VoiceProfileEnrollmentResult): VoiceProfileEnrollmentCancellationDetails {\r\n        const reason = CancellationReason.Error;\r\n        let errorCode: CancellationErrorCode = CancellationErrorCode.NoError;\r\n\r\n        if (!!result.properties) {\r\n            errorCode = (CancellationErrorCode as any)[result.properties.getProperty(CancellationErrorCodePropertyName, CancellationErrorCode[CancellationErrorCode.NoError])];\r\n        }\r\n\r\n        return new VoiceProfileEnrollmentCancellationDetails(reason, result.errorDetails, errorCode);\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"script"}