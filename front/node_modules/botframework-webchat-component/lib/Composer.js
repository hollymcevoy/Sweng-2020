"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _botframeworkWebchatApi = require("botframework-webchat-api");

var _reactSay = require("react-say");

var _botframeworkWebchatCore = require("botframework-webchat-core");

var _createInstance = _interopRequireDefault(require("@emotion/css/create-instance"));

var _createStyleSet = _interopRequireDefault(require("./Styles/createStyleSet"));

var _markdownIt = _interopRequireDefault(require("markdown-it"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireWildcard(require("react"));

var _BypassSpeechSynthesisPonyfill = require("./hooks/internal/BypassSpeechSynthesisPonyfill");

var _ActivityTreeComposer = _interopRequireDefault(require("./providers/ActivityTree/ActivityTreeComposer"));

var _addTargetBlankToHyperlinksMarkdown = _interopRequireDefault(require("./Utils/addTargetBlankToHyperlinksMarkdown"));

var _createCSSKey = _interopRequireDefault(require("./Utils/createCSSKey"));

var _createCoreMiddleware = _interopRequireDefault(require("./Middleware/Activity/createCoreMiddleware"));

var _createCoreMiddleware2 = _interopRequireDefault(require("./Middleware/ActivityStatus/createCoreMiddleware"));

var _createCoreMiddleware3 = _interopRequireDefault(require("./Middleware/AttachmentForScreenReader/createCoreMiddleware"));

var _createCoreMiddleware4 = _interopRequireDefault(require("./Middleware/Attachment/createCoreMiddleware"));

var _createCoreMiddleware5 = _interopRequireDefault(require("./Middleware/Avatar/createCoreMiddleware"));

var _createCoreMiddleware6 = _interopRequireDefault(require("./Middleware/CardAction/createCoreMiddleware"));

var _createScrollToEndButtonMiddleware = _interopRequireDefault(require("./Middleware/ScrollToEndButton/createScrollToEndButtonMiddleware"));

var _createCoreMiddleware7 = _interopRequireDefault(require("./Middleware/Toast/createCoreMiddleware"));

var _createCoreMiddleware8 = _interopRequireDefault(require("./Middleware/TypingIndicator/createCoreMiddleware"));

var _Dictation = _interopRequireDefault(require("./Dictation"));

var _downscaleImageToDataURL = _interopRequireDefault(require("./Utils/downscaleImageToDataURL"));

var _ErrorBox = _interopRequireDefault(require("./ErrorBox"));

var _mapMap = _interopRequireDefault(require("./Utils/mapMap"));

var _UITracker = _interopRequireDefault(require("./hooks/internal/UITracker"));

var _WebChatUIContext = _interopRequireDefault(require("./hooks/internal/WebChatUIContext"));

var _excluded = ["activityMiddleware", "activityStatusMiddleware", "attachmentForScreenReaderMiddleware", "attachmentMiddleware", "avatarMiddleware", "cardActionMiddleware", "children", "extraStyleSet", "renderMarkdown", "scrollToEndButtonMiddleware", "styleSet", "suggestedActionsAccessKey", "toastMiddleware", "typingIndicatorMiddleware", "webSpeechPonyfillFactory"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

var useGetActivityByKey = _botframeworkWebchatApi.hooks.useGetActivityByKey,
    useReferenceGrammarID = _botframeworkWebchatApi.hooks.useReferenceGrammarID,
    useStyleOptions = _botframeworkWebchatApi.hooks.useStyleOptions;
var node_env = undefined || "production";
var emotionPool = {};

function styleSetToEmotionObjects(styleToEmotionObject, styleSet) {
  return (0, _mapMap.default)(styleSet, function (style, key) {
    return key === 'options' ? style : styleToEmotionObject(style);
  });
}

var ComposerCore = function ComposerCore(_ref) {
  var children = _ref.children,
      extraStyleSet = _ref.extraStyleSet,
      nonce = _ref.nonce,
      renderMarkdown = _ref.renderMarkdown,
      styleSet = _ref.styleSet,
      suggestedActionsAccessKey = _ref.suggestedActionsAccessKey,
      webSpeechPonyfillFactory = _ref.webSpeechPonyfillFactory;

  var _useState = (0, _react.useState)(),
      _useState2 = _slicedToArray(_useState, 2),
      dictateAbortable = _useState2[0],
      setDictateAbortable = _useState2[1];

  var _useReferenceGrammarI = useReferenceGrammarID(),
      _useReferenceGrammarI2 = _slicedToArray(_useReferenceGrammarI, 1),
      referenceGrammarID = _useReferenceGrammarI2[0];

  var _useStyleOptions = useStyleOptions(),
      _useStyleOptions2 = _slicedToArray(_useStyleOptions, 1),
      styleOptions = _useStyleOptions2[0];

  var focusSendBoxCallbacksRef = (0, _react.useRef)([]);
  var focusTranscriptCallbacksRef = (0, _react.useRef)([]);
  var internalMarkdownIt = (0, _react.useMemo)(function () {
    return new _markdownIt.default();
  }, []);
  var scrollToCallbacksRef = (0, _react.useRef)([]);
  var scrollToEndCallbacksRef = (0, _react.useRef)([]); // Instead of having a `scrollUpCallbacksRef` and `scrollDownCallbacksRef`, they are combined into a single `scrollRelativeCallbacksRef`.
  // The first argument tells whether it should go "up" or "down".

  var scrollRelativeCallbacksRef = (0, _react.useRef)([]);
  var dictationOnError = (0, _react.useCallback)(function (err) {
    console.error(err);
  }, []);
  var internalRenderMarkdownInline = (0, _react.useMemo)(function () {
    return function (markdown) {
      var tree = internalMarkdownIt.parseInline(markdown); // We should add rel="noopener noreferrer" and target="_blank"

      var patchedTree = (0, _addTargetBlankToHyperlinksMarkdown.default)(tree);
      return internalMarkdownIt.renderer.render(patchedTree);
    };
  }, [internalMarkdownIt]);
  var styleToEmotionObject = (0, _react.useMemo)(function () {
    // Emotion doesn't hash with nonce. We need to provide the pooling mechanism.
    // 1. If 2 instances use different nonce, they should result in different hash;
    // 2. If 2 instances are being mounted, pooling will make sure we render only 1 set of <style> tags, instead of 2.
    var emotion = // Prefix "id-" to prevent object injection attack.
    emotionPool["id-".concat(nonce)] || (emotionPool["id-".concat(nonce)] = (0, _createInstance.default)({
      key: "webchat--css-".concat((0, _createCSSKey.default)()),
      nonce: nonce
    }));
    return function (style) {
      return emotion.css(style);
    };
  }, [nonce]);
  var patchedStyleSet = (0, _react.useMemo)(function () {
    return styleSetToEmotionObjects(styleToEmotionObject, _objectSpread(_objectSpread({}, styleSet || (0, _createStyleSet.default)(styleOptions)), extraStyleSet));
  }, [extraStyleSet, styleOptions, styleSet, styleToEmotionObject]);
  var webSpeechPonyfill = (0, _react.useMemo)(function () {
    var ponyfill = webSpeechPonyfillFactory && webSpeechPonyfillFactory({
      referenceGrammarID: referenceGrammarID
    });

    var _ref2 = ponyfill || {},
        speechSynthesis = _ref2.speechSynthesis,
        SpeechSynthesisUtterance = _ref2.SpeechSynthesisUtterance;

    return _objectSpread(_objectSpread({}, ponyfill), {}, {
      speechSynthesis: speechSynthesis || _BypassSpeechSynthesisPonyfill.speechSynthesis,
      SpeechSynthesisUtterance: SpeechSynthesisUtterance || _BypassSpeechSynthesisPonyfill.SpeechSynthesisUtterance
    });
  }, [referenceGrammarID, webSpeechPonyfillFactory]);
  var scrollPositionObserversRef = (0, _react.useRef)([]);
  var dispatchScrollPosition = (0, _react.useCallback)(function (event) {
    return scrollPositionObserversRef.current.forEach(function (observer) {
      return observer(event);
    });
  }, [scrollPositionObserversRef]);
  var observeScrollPosition = (0, _react.useCallback)(function (observer) {
    scrollPositionObserversRef.current = [].concat(_toConsumableArray(scrollPositionObserversRef.current), [observer]);
    return function () {
      scrollPositionObserversRef.current = scrollPositionObserversRef.current.filter(function (target) {
        return target !== observer;
      });
    };
  }, [scrollPositionObserversRef]);
  var transcriptFocusObserversRef = (0, _react.useRef)([]);

  var _useState3 = (0, _react.useState)(0),
      _useState4 = _slicedToArray(_useState3, 2),
      numTranscriptFocusObservers = _useState4[0],
      setNumTranscriptFocusObservers = _useState4[1];

  var getActivityByKey = useGetActivityByKey();
  var dispatchTranscriptFocusByActivityKey = (0, _react.useMemo)(function () {
    var prevActivityKey = Symbol();
    return function (activityKey) {
      if (activityKey !== prevActivityKey) {
        prevActivityKey = activityKey;
        var event = {
          activity: getActivityByKey(activityKey)
        };
        transcriptFocusObserversRef.current.forEach(function (observer) {
          return observer(event);
        });
      }
    };
  }, [getActivityByKey, transcriptFocusObserversRef]);
  var observeTranscriptFocus = (0, _react.useCallback)(function (observer) {
    transcriptFocusObserversRef.current = [].concat(_toConsumableArray(transcriptFocusObserversRef.current), [observer]);
    setNumTranscriptFocusObservers(transcriptFocusObserversRef.current.length);
    return function () {
      transcriptFocusObserversRef.current = transcriptFocusObserversRef.current.filter(function (target) {
        return target !== observer;
      });
      setNumTranscriptFocusObservers(transcriptFocusObserversRef.current.length);
    };
  }, [transcriptFocusObserversRef, setNumTranscriptFocusObservers]);
  var context = (0, _react.useMemo)(function () {
    return {
      dictateAbortable: dictateAbortable,
      dispatchScrollPosition: dispatchScrollPosition,
      dispatchTranscriptFocusByActivityKey: dispatchTranscriptFocusByActivityKey,
      focusSendBoxCallbacksRef: focusSendBoxCallbacksRef,
      focusTranscriptCallbacksRef: focusTranscriptCallbacksRef,
      internalMarkdownItState: [internalMarkdownIt],
      internalRenderMarkdownInline: internalRenderMarkdownInline,
      nonce: nonce,
      numTranscriptFocusObservers: numTranscriptFocusObservers,
      observeScrollPosition: observeScrollPosition,
      observeTranscriptFocus: observeTranscriptFocus,
      renderMarkdown: renderMarkdown,
      scrollRelativeCallbacksRef: scrollRelativeCallbacksRef,
      scrollToCallbacksRef: scrollToCallbacksRef,
      scrollToEndCallbacksRef: scrollToEndCallbacksRef,
      setDictateAbortable: setDictateAbortable,
      styleSet: patchedStyleSet,
      styleToEmotionObject: styleToEmotionObject,
      suggestedActionsAccessKey: suggestedActionsAccessKey,
      webSpeechPonyfill: webSpeechPonyfill
    };
  }, [dictateAbortable, dispatchScrollPosition, dispatchTranscriptFocusByActivityKey, focusSendBoxCallbacksRef, focusTranscriptCallbacksRef, internalMarkdownIt, internalRenderMarkdownInline, nonce, numTranscriptFocusObservers, observeScrollPosition, observeTranscriptFocus, patchedStyleSet, renderMarkdown, scrollRelativeCallbacksRef, scrollToCallbacksRef, scrollToEndCallbacksRef, setDictateAbortable, styleToEmotionObject, suggestedActionsAccessKey, webSpeechPonyfill]);
  return /*#__PURE__*/_react.default.createElement(_reactSay.Composer, {
    ponyfill: webSpeechPonyfill
  }, /*#__PURE__*/_react.default.createElement(_WebChatUIContext.default.Provider, {
    value: context
  }, children, /*#__PURE__*/_react.default.createElement(_Dictation.default, {
    onError: dictationOnError
  })));
};

ComposerCore.defaultProps = {
  children: undefined,
  extraStyleSet: undefined,
  nonce: undefined,
  renderMarkdown: undefined,
  styleSet: undefined,
  suggestedActionsAccessKey: 'A a Å å',
  webSpeechPonyfillFactory: undefined
};
ComposerCore.propTypes = {
  extraStyleSet: _propTypes.default.any,
  nonce: _propTypes.default.string,
  renderMarkdown: _propTypes.default.func,
  styleSet: _propTypes.default.any,
  suggestedActionsAccessKey: _propTypes.default.oneOfType([_propTypes.default.oneOf([false]), _propTypes.default.string]),
  webSpeechPonyfillFactory: _propTypes.default.func
};

var Composer = function Composer(_ref3) {
  var activityMiddleware = _ref3.activityMiddleware,
      activityStatusMiddleware = _ref3.activityStatusMiddleware,
      attachmentForScreenReaderMiddleware = _ref3.attachmentForScreenReaderMiddleware,
      attachmentMiddleware = _ref3.attachmentMiddleware,
      avatarMiddleware = _ref3.avatarMiddleware,
      cardActionMiddleware = _ref3.cardActionMiddleware,
      children = _ref3.children,
      extraStyleSet = _ref3.extraStyleSet,
      renderMarkdown = _ref3.renderMarkdown,
      scrollToEndButtonMiddleware = _ref3.scrollToEndButtonMiddleware,
      styleSet = _ref3.styleSet,
      suggestedActionsAccessKey = _ref3.suggestedActionsAccessKey,
      toastMiddleware = _ref3.toastMiddleware,
      typingIndicatorMiddleware = _ref3.typingIndicatorMiddleware,
      webSpeechPonyfillFactory = _ref3.webSpeechPonyfillFactory,
      composerProps = _objectWithoutProperties(_ref3, _excluded);

  var nonce = composerProps.nonce,
      onTelemetry = composerProps.onTelemetry;
  var patchedActivityMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(activityMiddleware)), _toConsumableArray((0, _createCoreMiddleware.default)()));
  }, [activityMiddleware]);
  var patchedActivityStatusMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(activityStatusMiddleware)), _toConsumableArray((0, _createCoreMiddleware2.default)()));
  }, [activityStatusMiddleware]);
  var patchedAttachmentForScreenReaderMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(attachmentForScreenReaderMiddleware)), _toConsumableArray((0, _createCoreMiddleware3.default)()));
  }, [attachmentForScreenReaderMiddleware]);
  var patchedAttachmentMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(attachmentMiddleware)), _toConsumableArray((0, _createCoreMiddleware4.default)()));
  }, [attachmentMiddleware]);
  var patchedAvatarMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(avatarMiddleware)), _toConsumableArray((0, _createCoreMiddleware5.default)()));
  }, [avatarMiddleware]);
  var patchedCardActionMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(cardActionMiddleware)), _toConsumableArray((0, _createCoreMiddleware6.default)()));
  }, [cardActionMiddleware]);
  var patchedToastMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(toastMiddleware)), _toConsumableArray((0, _createCoreMiddleware7.default)()));
  }, [toastMiddleware]);
  var patchedTypingIndicatorMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(typingIndicatorMiddleware)), _toConsumableArray((0, _createCoreMiddleware8.default)()));
  }, [typingIndicatorMiddleware]);
  var defaultScrollToEndButtonMiddleware = (0, _react.useMemo)(function () {
    return (0, _createScrollToEndButtonMiddleware.default)();
  }, []);
  var patchedScrollToEndButtonMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(scrollToEndButtonMiddleware)), _toConsumableArray(defaultScrollToEndButtonMiddleware));
  }, [defaultScrollToEndButtonMiddleware, scrollToEndButtonMiddleware]);
  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_botframeworkWebchatApi.Composer, _extends({
    activityMiddleware: patchedActivityMiddleware,
    activityStatusMiddleware: patchedActivityStatusMiddleware,
    attachmentForScreenReaderMiddleware: patchedAttachmentForScreenReaderMiddleware,
    attachmentMiddleware: patchedAttachmentMiddleware,
    avatarMiddleware: patchedAvatarMiddleware,
    cardActionMiddleware: patchedCardActionMiddleware,
    downscaleImageToDataURL: _downscaleImageToDataURL.default // Under dev server of create-react-app, "NODE_ENV" will be set to "development".
    ,
    internalErrorBoxClass: node_env === 'development' ? _ErrorBox.default : undefined,
    nonce: nonce,
    scrollToEndButtonMiddleware: patchedScrollToEndButtonMiddleware,
    toastMiddleware: patchedToastMiddleware,
    typingIndicatorMiddleware: patchedTypingIndicatorMiddleware
  }, composerProps), /*#__PURE__*/_react.default.createElement(_ActivityTreeComposer.default, null, /*#__PURE__*/_react.default.createElement(ComposerCore, {
    extraStyleSet: extraStyleSet,
    nonce: nonce,
    renderMarkdown: renderMarkdown,
    styleSet: styleSet,
    suggestedActionsAccessKey: suggestedActionsAccessKey,
    webSpeechPonyfillFactory: webSpeechPonyfillFactory
  }, children, onTelemetry && /*#__PURE__*/_react.default.createElement(_UITracker.default, null)))));
};

Composer.defaultProps = _objectSpread(_objectSpread(_objectSpread({}, _botframeworkWebchatApi.Composer.defaultProps), ComposerCore.defaultProps), {}, {
  children: undefined
});
Composer.propTypes = _objectSpread(_objectSpread(_objectSpread({}, _botframeworkWebchatApi.Composer.propTypes), ComposerCore.propTypes), {}, {
  children: _propTypes.default.any
});
var _default = Composer;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9Db21wb3Nlci50c3giXSwibmFtZXMiOlsidXNlR2V0QWN0aXZpdHlCeUtleSIsImhvb2tzIiwidXNlUmVmZXJlbmNlR3JhbW1hcklEIiwidXNlU3R5bGVPcHRpb25zIiwibm9kZV9lbnYiLCJlbW90aW9uUG9vbCIsInN0eWxlU2V0VG9FbW90aW9uT2JqZWN0cyIsInN0eWxlVG9FbW90aW9uT2JqZWN0Iiwic3R5bGVTZXQiLCJzdHlsZSIsImtleSIsIkNvbXBvc2VyQ29yZSIsImNoaWxkcmVuIiwiZXh0cmFTdHlsZVNldCIsIm5vbmNlIiwicmVuZGVyTWFya2Rvd24iLCJzdWdnZXN0ZWRBY3Rpb25zQWNjZXNzS2V5Iiwid2ViU3BlZWNoUG9ueWZpbGxGYWN0b3J5IiwiZGljdGF0ZUFib3J0YWJsZSIsInNldERpY3RhdGVBYm9ydGFibGUiLCJyZWZlcmVuY2VHcmFtbWFySUQiLCJzdHlsZU9wdGlvbnMiLCJmb2N1c1NlbmRCb3hDYWxsYmFja3NSZWYiLCJmb2N1c1RyYW5zY3JpcHRDYWxsYmFja3NSZWYiLCJpbnRlcm5hbE1hcmtkb3duSXQiLCJNYXJrZG93bkl0Iiwic2Nyb2xsVG9DYWxsYmFja3NSZWYiLCJzY3JvbGxUb0VuZENhbGxiYWNrc1JlZiIsInNjcm9sbFJlbGF0aXZlQ2FsbGJhY2tzUmVmIiwiZGljdGF0aW9uT25FcnJvciIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImludGVybmFsUmVuZGVyTWFya2Rvd25JbmxpbmUiLCJtYXJrZG93biIsInRyZWUiLCJwYXJzZUlubGluZSIsInBhdGNoZWRUcmVlIiwicmVuZGVyZXIiLCJyZW5kZXIiLCJlbW90aW9uIiwiY3NzIiwicGF0Y2hlZFN0eWxlU2V0Iiwid2ViU3BlZWNoUG9ueWZpbGwiLCJwb255ZmlsbCIsInNwZWVjaFN5bnRoZXNpcyIsIlNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSIsImJ5cGFzc1NwZWVjaFN5bnRoZXNpcyIsIkJ5cGFzc1NwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSIsInNjcm9sbFBvc2l0aW9uT2JzZXJ2ZXJzUmVmIiwiZGlzcGF0Y2hTY3JvbGxQb3NpdGlvbiIsImV2ZW50IiwiY3VycmVudCIsImZvckVhY2giLCJvYnNlcnZlciIsIm9ic2VydmVTY3JvbGxQb3NpdGlvbiIsImZpbHRlciIsInRhcmdldCIsInRyYW5zY3JpcHRGb2N1c09ic2VydmVyc1JlZiIsIm51bVRyYW5zY3JpcHRGb2N1c09ic2VydmVycyIsInNldE51bVRyYW5zY3JpcHRGb2N1c09ic2VydmVycyIsImdldEFjdGl2aXR5QnlLZXkiLCJkaXNwYXRjaFRyYW5zY3JpcHRGb2N1c0J5QWN0aXZpdHlLZXkiLCJwcmV2QWN0aXZpdHlLZXkiLCJTeW1ib2wiLCJhY3Rpdml0eUtleSIsImFjdGl2aXR5Iiwib2JzZXJ2ZVRyYW5zY3JpcHRGb2N1cyIsImxlbmd0aCIsImNvbnRleHQiLCJpbnRlcm5hbE1hcmtkb3duSXRTdGF0ZSIsImRlZmF1bHRQcm9wcyIsInVuZGVmaW5lZCIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsImFueSIsInN0cmluZyIsImZ1bmMiLCJvbmVPZlR5cGUiLCJvbmVPZiIsIkNvbXBvc2VyIiwiYWN0aXZpdHlNaWRkbGV3YXJlIiwiYWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlIiwiYXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmUiLCJhdHRhY2htZW50TWlkZGxld2FyZSIsImF2YXRhck1pZGRsZXdhcmUiLCJjYXJkQWN0aW9uTWlkZGxld2FyZSIsInNjcm9sbFRvRW5kQnV0dG9uTWlkZGxld2FyZSIsInRvYXN0TWlkZGxld2FyZSIsInR5cGluZ0luZGljYXRvck1pZGRsZXdhcmUiLCJjb21wb3NlclByb3BzIiwib25UZWxlbWV0cnkiLCJwYXRjaGVkQWN0aXZpdHlNaWRkbGV3YXJlIiwicGF0Y2hlZEFjdGl2aXR5U3RhdHVzTWlkZGxld2FyZSIsInBhdGNoZWRBdHRhY2htZW50Rm9yU2NyZWVuUmVhZGVyTWlkZGxld2FyZSIsInBhdGNoZWRBdHRhY2htZW50TWlkZGxld2FyZSIsInBhdGNoZWRBdmF0YXJNaWRkbGV3YXJlIiwicGF0Y2hlZENhcmRBY3Rpb25NaWRkbGV3YXJlIiwicGF0Y2hlZFRvYXN0TWlkZGxld2FyZSIsInBhdGNoZWRUeXBpbmdJbmRpY2F0b3JNaWRkbGV3YXJlIiwiZGVmYXVsdFNjcm9sbFRvRW5kQnV0dG9uTWlkZGxld2FyZSIsInBhdGNoZWRTY3JvbGxUb0VuZEJ1dHRvbk1pZGRsZXdhcmUiLCJkb3duc2NhbGVJbWFnZVRvRGF0YVVSTCIsIkVycm9yQm94IiwiQVBJQ29tcG9zZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQU1BOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUlBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFRQSxtQkFBUixHQUF3RUMsNkJBQXhFLENBQVFELG1CQUFSO0FBQUEsSUFBNkJFLHFCQUE3QixHQUF3RUQsNkJBQXhFLENBQTZCQyxxQkFBN0I7QUFBQSxJQUFvREMsZUFBcEQsR0FBd0VGLDZCQUF4RSxDQUFvREUsZUFBcEQ7QUFFQSxJQUFNQyxRQUFRLEdBQUcseUJBQWpCO0FBRUEsSUFBTUMsV0FBVyxHQUFHLEVBQXBCOztBQUVBLFNBQVNDLHdCQUFULENBQWtDQyxvQkFBbEMsRUFBd0RDLFFBQXhELEVBQWtFO0FBQ2hFLFNBQU8scUJBQU9BLFFBQVAsRUFBaUIsVUFBQ0MsS0FBRCxFQUFRQyxHQUFSO0FBQUEsV0FBaUJBLEdBQUcsS0FBSyxTQUFSLEdBQW9CRCxLQUFwQixHQUE0QkYsb0JBQW9CLENBQUNFLEtBQUQsQ0FBakU7QUFBQSxHQUFqQixDQUFQO0FBQ0Q7O0FBWUQsSUFBTUUsWUFBbUMsR0FBRyxTQUF0Q0EsWUFBc0MsT0FRdEM7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TUUsSUFBQSxvQkFBb0IsRUFBRUMsMkJBTnhCO0FBT0UsSUFBQSx1QkFBdUIsRUFBRUssZ0NBUDNCLENBUUU7QUFSRjtBQVNFLElBQUEscUJBQXFCLEVBQUVsRyxRQUFRLEtBQUssYUFBYixHQUE2Qm1HLGlCQUE3QixHQUF3Qy9CLFNBVGpFO0FBVUUsSUFBQSxLQUFLLEVBQUUxRCxLQVZUO0FBV0UsSUFBQSwyQkFBMkIsRUFBRXVGLGtDQVgvQjtBQVlFLElBQUEsZUFBZSxFQUFFSCxzQkFabkI7QUFhRSxJQUFBLHlCQUF5QixFQUFFQztBQWI3QixLQWNNVCxhQWROLGdCQWdCRSw2QkFBQyw2QkFBRCxxQkFDRSw2QkFBQyxZQUFEO0FBQ0UsSUFBQSxhQUFhLEVBQUU3RSxhQURqQjtBQUVFLElBQUEsS0FBSyxFQUFFQyxLQUZUO0FBR0UsSUFBQSxjQUFjLEVBQUVDLGNBSGxCO0FBSUUsSUFBQSxRQUFRLEVBQUVQLFFBSlo7QUFLRSxJQUFBLHlCQUF5QixFQUFFUSx5QkFMN0I7QUFNRSxJQUFBLHdCQUF3QixFQUFFQztBQU41QixLQVFHTCxRQVJILEVBU0crRSxXQUFXLGlCQUFJLDZCQUFDLGtCQUFELE9BVGxCLENBREYsQ0FoQkYsQ0FERixDQURGO0FBa0NELENBeEdEOztBQTBHQVgsUUFBUSxDQUFDVCxZQUFULGlEQUNLaUMsaUNBQVlqQyxZQURqQixHQUVLNUQsWUFBWSxDQUFDNEQsWUFGbEI7QUFHRTNELEVBQUFBLFFBQVEsRUFBRTREO0FBSFo7QUFNQVEsUUFBUSxDQUFDUCxTQUFULGlEQUNLK0IsaUNBQVkvQixTQURqQixHQUVLOUQsWUFBWSxDQUFDOEQsU0FGbEI7QUFHRTdELEVBQUFBLFFBQVEsRUFBRThELG1CQUFVQztBQUh0QjtlQU1lSyxRIiwic291cmNlUm9vdCI6ImNvbXBvbmVudDovLy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb21wb3NlciBhcyBBUElDb21wb3NlcixcbiAgQ29tcG9zZXJQcm9wcyBhcyBBUElDb21wb3NlclByb3BzLFxuICBob29rcyxcbiAgV2ViU3BlZWNoUG9ueWZpbGxGYWN0b3J5XG59IGZyb20gJ2JvdGZyYW1ld29yay13ZWJjaGF0LWFwaSc7XG5pbXBvcnQgeyBDb21wb3NlciBhcyBTYXlDb21wb3NlciB9IGZyb20gJ3JlYWN0LXNheSc7XG5pbXBvcnQgeyBzaW5nbGVUb0FycmF5IH0gZnJvbSAnYm90ZnJhbWV3b3JrLXdlYmNoYXQtY29yZSc7XG5pbXBvcnQgY3JlYXRlRW1vdGlvbiBmcm9tICdAZW1vdGlvbi9jc3MvY3JlYXRlLWluc3RhbmNlJztcbmltcG9ydCBjcmVhdGVTdHlsZVNldCBmcm9tICcuL1N0eWxlcy9jcmVhdGVTdHlsZVNldCc7XG5pbXBvcnQgTWFya2Rvd25JdCBmcm9tICdtYXJrZG93bi1pdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0LCB7IEZDLCBSZWFjdE5vZGUsIHVzZUNhbGxiYWNrLCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQge1xuICBzcGVlY2hTeW50aGVzaXMgYXMgYnlwYXNzU3BlZWNoU3ludGhlc2lzLFxuICBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UgYXMgQnlwYXNzU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlXG59IGZyb20gJy4vaG9va3MvaW50ZXJuYWwvQnlwYXNzU3BlZWNoU3ludGhlc2lzUG9ueWZpbGwnO1xuaW1wb3J0IEFjdGl2aXR5VHJlZUNvbXBvc2VyIGZyb20gJy4vcHJvdmlkZXJzL0FjdGl2aXR5VHJlZS9BY3Rpdml0eVRyZWVDb21wb3Nlcic7XG5pbXBvcnQgYWRkVGFyZ2V0QmxhbmtUb0h5cGVybGlua3NNYXJrZG93biBmcm9tICcuL1V0aWxzL2FkZFRhcmdldEJsYW5rVG9IeXBlcmxpbmtzTWFya2Rvd24nO1xuaW1wb3J0IGNyZWF0ZUNTU0tleSBmcm9tICcuL1V0aWxzL2NyZWF0ZUNTU0tleSc7XG5pbXBvcnQgY3JlYXRlRGVmYXVsdEFjdGl2aXR5TWlkZGxld2FyZSBmcm9tICcuL01pZGRsZXdhcmUvQWN0aXZpdHkvY3JlYXRlQ29yZU1pZGRsZXdhcmUnO1xuaW1wb3J0IGNyZWF0ZURlZmF1bHRBY3Rpdml0eVN0YXR1c01pZGRsZXdhcmUgZnJvbSAnLi9NaWRkbGV3YXJlL0FjdGl2aXR5U3RhdHVzL2NyZWF0ZUNvcmVNaWRkbGV3YXJlJztcbmltcG9ydCBjcmVhdGVEZWZhdWx0QXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmUgZnJvbSAnLi9NaWRkbGV3YXJlL0F0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXIvY3JlYXRlQ29yZU1pZGRsZXdhcmUnO1xuaW1wb3J0IGNyZWF0ZURlZmF1bHRBdHRhY2htZW50TWlkZGxld2FyZSBmcm9tICcuL01pZGRsZXdhcmUvQXR0YWNobWVudC9jcmVhdGVDb3JlTWlkZGxld2FyZSc7XG5pbXBvcnQgY3JlYXRlRGVmYXVsdEF2YXRhck1pZGRsZXdhcmUgZnJvbSAnLi9NaWRkbGV3YXJlL0F2YXRhci9jcmVhdGVDb3JlTWlkZGxld2FyZSc7XG5pbXBvcnQgY3JlYXRlRGVmYXVsdENhcmRBY3Rpb25NaWRkbGV3YXJlIGZyb20gJy4vTWlkZGxld2FyZS9DYXJkQWN0aW9uL2NyZWF0ZUNvcmVNaWRkbGV3YXJlJztcbmltcG9ydCBjcmVhdGVEZWZhdWx0U2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlIGZyb20gJy4vTWlkZGxld2FyZS9TY3JvbGxUb0VuZEJ1dHRvbi9jcmVhdGVTY3JvbGxUb0VuZEJ1dHRvbk1pZGRsZXdhcmUnO1xuaW1wb3J0IGNyZWF0ZURlZmF1bHRUb2FzdE1pZGRsZXdhcmUgZnJvbSAnLi9NaWRkbGV3YXJlL1RvYXN0L2NyZWF0ZUNvcmVNaWRkbGV3YXJlJztcbmltcG9ydCBjcmVhdGVEZWZhdWx0VHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZSBmcm9tICcuL01pZGRsZXdhcmUvVHlwaW5nSW5kaWNhdG9yL2NyZWF0ZUNvcmVNaWRkbGV3YXJlJztcbmltcG9ydCBEaWN0YXRpb24gZnJvbSAnLi9EaWN0YXRpb24nO1xuaW1wb3J0IGRvd25zY2FsZUltYWdlVG9EYXRhVVJMIGZyb20gJy4vVXRpbHMvZG93bnNjYWxlSW1hZ2VUb0RhdGFVUkwnO1xuaW1wb3J0IEVycm9yQm94IGZyb20gJy4vRXJyb3JCb3gnO1xuaW1wb3J0IG1hcE1hcCBmcm9tICcuL1V0aWxzL21hcE1hcCc7XG5pbXBvcnQgVUlUcmFja2VyIGZyb20gJy4vaG9va3MvaW50ZXJuYWwvVUlUcmFja2VyJztcbmltcG9ydCBXZWJDaGF0VUlDb250ZXh0IGZyb20gJy4vaG9va3MvaW50ZXJuYWwvV2ViQ2hhdFVJQ29udGV4dCc7XG5cbmNvbnN0IHsgdXNlR2V0QWN0aXZpdHlCeUtleSwgdXNlUmVmZXJlbmNlR3JhbW1hcklELCB1c2VTdHlsZU9wdGlvbnMgfSA9IGhvb2tzO1xuXG5jb25zdCBub2RlX2VudiA9IHByb2Nlc3MuZW52Lm5vZGVfZW52IHx8IHByb2Nlc3MuZW52Lk5PREVfRU5WO1xuXG5jb25zdCBlbW90aW9uUG9vbCA9IHt9O1xuXG5mdW5jdGlvbiBzdHlsZVNldFRvRW1vdGlvbk9iamVjdHMoc3R5bGVUb0Vtb3Rpb25PYmplY3QsIHN0eWxlU2V0KSB7XG4gIHJldHVybiBtYXBNYXAoc3R5bGVTZXQsIChzdHlsZSwga2V5KSA9PiAoa2V5ID09PSAnb3B0aW9ucycgPyBzdHlsZSA6IHN0eWxlVG9FbW90aW9uT2JqZWN0KHN0eWxlKSkpO1xufVxuXG50eXBlIENvbXBvc2VyQ29yZVByb3BzID0ge1xuICBjaGlsZHJlbj86IFJlYWN0Tm9kZTtcbiAgZXh0cmFTdHlsZVNldD86IGFueTtcbiAgbm9uY2U/OiBzdHJpbmc7XG4gIHJlbmRlck1hcmtkb3duPzogKG1hcmtkb3duOiBzdHJpbmcsIHsgbWFya2Rvd25SZXNwZWN0Q1JMRjogYm9vbGVhbiB9LCB7IGV4dGVybmFsTGlua0FsdDogc3RyaW5nIH0pID0+IHN0cmluZztcbiAgc3R5bGVTZXQ/OiBhbnk7XG4gIHN1Z2dlc3RlZEFjdGlvbnNBY2Nlc3NLZXk/OiBib29sZWFuIHwgc3RyaW5nO1xuICB3ZWJTcGVlY2hQb255ZmlsbEZhY3Rvcnk/OiBXZWJTcGVlY2hQb255ZmlsbEZhY3Rvcnk7XG59O1xuXG5jb25zdCBDb21wb3NlckNvcmU6IEZDPENvbXBvc2VyQ29yZVByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxuICBleHRyYVN0eWxlU2V0LFxuICBub25jZSxcbiAgcmVuZGVyTWFya2Rvd24sXG4gIHN0eWxlU2V0LFxuICBzdWdnZXN0ZWRBY3Rpb25zQWNjZXNzS2V5LFxuICB3ZWJTcGVlY2hQb255ZmlsbEZhY3Rvcnlcbn0pID0+IHtcbiAgY29uc3QgW2RpY3RhdGVBYm9ydGFibGUsIHNldERpY3RhdGVBYm9ydGFibGVdID0gdXNlU3RhdGUoKTtcbiAgY29uc3QgW3JlZmVyZW5jZUdyYW1tYXJJRF0gPSB1c2VSZWZlcmVuY2VHcmFtbWFySUQoKTtcbiAgY29uc3QgW3N0eWxlT3B0aW9uc10gPSB1c2VTdHlsZU9wdGlvbnMoKTtcbiAgY29uc3QgZm9jdXNTZW5kQm94Q2FsbGJhY2tzUmVmID0gdXNlUmVmKFtdKTtcbiAgY29uc3QgZm9jdXNUcmFuc2NyaXB0Q2FsbGJhY2tzUmVmID0gdXNlUmVmKFtdKTtcbiAgY29uc3QgaW50ZXJuYWxNYXJrZG93bkl0ID0gdXNlTWVtbygoKSA9PiBuZXcgTWFya2Rvd25JdCgpLCBbXSk7XG4gIGNvbnN0IHNjcm9sbFRvQ2FsbGJhY2tzUmVmID0gdXNlUmVmKFtdKTtcbiAgY29uc3Qgc2Nyb2xsVG9FbmRDYWxsYmFja3NSZWYgPSB1c2VSZWYoW10pO1xuXG4gIC8vIEluc3RlYWQgb2YgaGF2aW5nIGEgYHNjcm9sbFVwQ2FsbGJhY2tzUmVmYCBhbmQgYHNjcm9sbERvd25DYWxsYmFja3NSZWZgLCB0aGV5IGFyZSBjb21iaW5lZCBpbnRvIGEgc2luZ2xlIGBzY3JvbGxSZWxhdGl2ZUNhbGxiYWNrc1JlZmAuXG4gIC8vIFRoZSBmaXJzdCBhcmd1bWVudCB0ZWxscyB3aGV0aGVyIGl0IHNob3VsZCBnbyBcInVwXCIgb3IgXCJkb3duXCIuXG4gIGNvbnN0IHNjcm9sbFJlbGF0aXZlQ2FsbGJhY2tzUmVmID0gdXNlUmVmKFtdKTtcblxuICBjb25zdCBkaWN0YXRpb25PbkVycm9yID0gdXNlQ2FsbGJhY2soZXJyID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH0sIFtdKTtcblxuICBjb25zdCBpbnRlcm5hbFJlbmRlck1hcmtkb3duSW5saW5lID0gdXNlTWVtbyhcbiAgICAoKSA9PiBtYXJrZG93biA9PiB7XG4gICAgICBjb25zdCB0cmVlID0gaW50ZXJuYWxNYXJrZG93bkl0LnBhcnNlSW5saW5lKG1hcmtkb3duKTtcblxuICAgICAgLy8gV2Ugc2hvdWxkIGFkZCByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCIgYW5kIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICBjb25zdCBwYXRjaGVkVHJlZSA9IGFkZFRhcmdldEJsYW5rVG9IeXBlcmxpbmtzTWFya2Rvd24odHJlZSk7XG5cbiAgICAgIHJldHVybiBpbnRlcm5hbE1hcmtkb3duSXQucmVuZGVyZXIucmVuZGVyKHBhdGNoZWRUcmVlKTtcbiAgICB9LFxuICAgIFtpbnRlcm5hbE1hcmtkb3duSXRdXG4gICk7XG5cbiAgY29uc3Qgc3R5bGVUb0Vtb3Rpb25PYmplY3QgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAvLyBFbW90aW9uIGRvZXNuJ3QgaGFzaCB3aXRoIG5vbmNlLiBXZSBuZWVkIHRvIHByb3ZpZGUgdGhlIHBvb2xpbmcgbWVjaGFuaXNtLlxuICAgIC8vIDEuIElmIDIgaW5zdGFuY2VzIHVzZSBkaWZmZXJlbnQgbm9uY2UsIHRoZXkgc2hvdWxkIHJlc3VsdCBpbiBkaWZmZXJlbnQgaGFzaDtcbiAgICAvLyAyLiBJZiAyIGluc3RhbmNlcyBhcmUgYmVpbmcgbW91bnRlZCwgcG9vbGluZyB3aWxsIG1ha2Ugc3VyZSB3ZSByZW5kZXIgb25seSAxIHNldCBvZiA8c3R5bGU+IHRhZ3MsIGluc3RlYWQgb2YgMi5cbiAgICBjb25zdCBlbW90aW9uID1cbiAgICAgIC8vIFByZWZpeCBcImlkLVwiIHRvIHByZXZlbnQgb2JqZWN0IGluamVjdGlvbiBhdHRhY2suXG4gICAgICBlbW90aW9uUG9vbFtgaWQtJHtub25jZX1gXSB8fFxuICAgICAgKGVtb3Rpb25Qb29sW2BpZC0ke25vbmNlfWBdID0gY3JlYXRlRW1vdGlvbih7IGtleTogYHdlYmNoYXQtLWNzcy0ke2NyZWF0ZUNTU0tleSgpfWAsIG5vbmNlIH0pKTtcblxuICAgIHJldHVybiBzdHlsZSA9PiBlbW90aW9uLmNzcyhzdHlsZSk7XG4gIH0sIFtub25jZV0pO1xuXG4gIGNvbnN0IHBhdGNoZWRTdHlsZVNldCA9IHVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIHN0eWxlU2V0VG9FbW90aW9uT2JqZWN0cyhzdHlsZVRvRW1vdGlvbk9iamVjdCwge1xuICAgICAgICAuLi4oc3R5bGVTZXQgfHwgY3JlYXRlU3R5bGVTZXQoc3R5bGVPcHRpb25zKSksXG4gICAgICAgIC4uLmV4dHJhU3R5bGVTZXRcbiAgICAgIH0pLFxuICAgIFtleHRyYVN0eWxlU2V0LCBzdHlsZU9wdGlvbnMsIHN0eWxlU2V0LCBzdHlsZVRvRW1vdGlvbk9iamVjdF1cbiAgKTtcblxuICBjb25zdCB3ZWJTcGVlY2hQb255ZmlsbCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHBvbnlmaWxsID0gd2ViU3BlZWNoUG9ueWZpbGxGYWN0b3J5ICYmIHdlYlNwZWVjaFBvbnlmaWxsRmFjdG9yeSh7IHJlZmVyZW5jZUdyYW1tYXJJRCB9KTtcbiAgICBjb25zdCB7IHNwZWVjaFN5bnRoZXNpcywgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlIH0gPSBwb255ZmlsbCB8fCB7fTtcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5wb255ZmlsbCxcbiAgICAgIHNwZWVjaFN5bnRoZXNpczogc3BlZWNoU3ludGhlc2lzIHx8IGJ5cGFzc1NwZWVjaFN5bnRoZXNpcyxcbiAgICAgIFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZTogU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlIHx8IEJ5cGFzc1NwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZVxuICAgIH07XG4gIH0sIFtyZWZlcmVuY2VHcmFtbWFySUQsIHdlYlNwZWVjaFBvbnlmaWxsRmFjdG9yeV0pO1xuXG4gIGNvbnN0IHNjcm9sbFBvc2l0aW9uT2JzZXJ2ZXJzUmVmID0gdXNlUmVmKFtdKTtcblxuICBjb25zdCBkaXNwYXRjaFNjcm9sbFBvc2l0aW9uID0gdXNlQ2FsbGJhY2soXG4gICAgZXZlbnQgPT4gc2Nyb2xsUG9zaXRpb25PYnNlcnZlcnNSZWYuY3VycmVudC5mb3JFYWNoKG9ic2VydmVyID0+IG9ic2VydmVyKGV2ZW50KSksXG4gICAgW3Njcm9sbFBvc2l0aW9uT2JzZXJ2ZXJzUmVmXVxuICApO1xuXG4gIGNvbnN0IG9ic2VydmVTY3JvbGxQb3NpdGlvbiA9IHVzZUNhbGxiYWNrKFxuICAgIG9ic2VydmVyID0+IHtcbiAgICAgIHNjcm9sbFBvc2l0aW9uT2JzZXJ2ZXJzUmVmLmN1cnJlbnQgPSBbLi4uc2Nyb2xsUG9zaXRpb25PYnNlcnZlcnNSZWYuY3VycmVudCwgb2JzZXJ2ZXJdO1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBzY3JvbGxQb3NpdGlvbk9ic2VydmVyc1JlZi5jdXJyZW50ID0gc2Nyb2xsUG9zaXRpb25PYnNlcnZlcnNSZWYuY3VycmVudC5maWx0ZXIodGFyZ2V0ID0+IHRhcmdldCAhPT0gb2JzZXJ2ZXIpO1xuICAgICAgfTtcbiAgICB9LFxuICAgIFtzY3JvbGxQb3NpdGlvbk9ic2VydmVyc1JlZl1cbiAgKTtcblxuICBjb25zdCB0cmFuc2NyaXB0Rm9jdXNPYnNlcnZlcnNSZWYgPSB1c2VSZWYoW10pO1xuICBjb25zdCBbbnVtVHJhbnNjcmlwdEZvY3VzT2JzZXJ2ZXJzLCBzZXROdW1UcmFuc2NyaXB0Rm9jdXNPYnNlcnZlcnNdID0gdXNlU3RhdGUoMCk7XG5cbiAgY29uc3QgZ2V0QWN0aXZpdHlCeUtleSA9IHVzZUdldEFjdGl2aXR5QnlLZXkoKTtcblxuICBjb25zdCBkaXNwYXRjaFRyYW5zY3JpcHRGb2N1c0J5QWN0aXZpdHlLZXkgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBsZXQgcHJldkFjdGl2aXR5S2V5OiBzdHJpbmcgfCBTeW1ib2wgfCB1bmRlZmluZWQgPSBTeW1ib2woKTtcblxuICAgIHJldHVybiBhY3Rpdml0eUtleSA9PiB7XG4gICAgICBpZiAoYWN0aXZpdHlLZXkgIT09IHByZXZBY3Rpdml0eUtleSkge1xuICAgICAgICBwcmV2QWN0aXZpdHlLZXkgPSBhY3Rpdml0eUtleTtcblxuICAgICAgICBjb25zdCBldmVudCA9IHsgYWN0aXZpdHk6IGdldEFjdGl2aXR5QnlLZXkoYWN0aXZpdHlLZXkpIH07XG5cbiAgICAgICAgdHJhbnNjcmlwdEZvY3VzT2JzZXJ2ZXJzUmVmLmN1cnJlbnQuZm9yRWFjaChvYnNlcnZlciA9PiBvYnNlcnZlcihldmVudCkpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtnZXRBY3Rpdml0eUJ5S2V5LCB0cmFuc2NyaXB0Rm9jdXNPYnNlcnZlcnNSZWZdKTtcblxuICBjb25zdCBvYnNlcnZlVHJhbnNjcmlwdEZvY3VzID0gdXNlQ2FsbGJhY2soXG4gICAgb2JzZXJ2ZXIgPT4ge1xuICAgICAgdHJhbnNjcmlwdEZvY3VzT2JzZXJ2ZXJzUmVmLmN1cnJlbnQgPSBbLi4udHJhbnNjcmlwdEZvY3VzT2JzZXJ2ZXJzUmVmLmN1cnJlbnQsIG9ic2VydmVyXTtcbiAgICAgIHNldE51bVRyYW5zY3JpcHRGb2N1c09ic2VydmVycyh0cmFuc2NyaXB0Rm9jdXNPYnNlcnZlcnNSZWYuY3VycmVudC5sZW5ndGgpO1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB0cmFuc2NyaXB0Rm9jdXNPYnNlcnZlcnNSZWYuY3VycmVudCA9IHRyYW5zY3JpcHRGb2N1c09ic2VydmVyc1JlZi5jdXJyZW50LmZpbHRlcih0YXJnZXQgPT4gdGFyZ2V0ICE9PSBvYnNlcnZlcik7XG4gICAgICAgIHNldE51bVRyYW5zY3JpcHRGb2N1c09ic2VydmVycyh0cmFuc2NyaXB0Rm9jdXNPYnNlcnZlcnNSZWYuY3VycmVudC5sZW5ndGgpO1xuICAgICAgfTtcbiAgICB9LFxuICAgIFt0cmFuc2NyaXB0Rm9jdXNPYnNlcnZlcnNSZWYsIHNldE51bVRyYW5zY3JpcHRGb2N1c09ic2VydmVyc11cbiAgKTtcblxuICBjb25zdCBjb250ZXh0ID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgZGljdGF0ZUFib3J0YWJsZSxcbiAgICAgIGRpc3BhdGNoU2Nyb2xsUG9zaXRpb24sXG4gICAgICBkaXNwYXRjaFRyYW5zY3JpcHRGb2N1c0J5QWN0aXZpdHlLZXksXG4gICAgICBmb2N1c1NlbmRCb3hDYWxsYmFja3NSZWYsXG4gICAgICBmb2N1c1RyYW5zY3JpcHRDYWxsYmFja3NSZWYsXG4gICAgICBpbnRlcm5hbE1hcmtkb3duSXRTdGF0ZTogW2ludGVybmFsTWFya2Rvd25JdF0sXG4gICAgICBpbnRlcm5hbFJlbmRlck1hcmtkb3duSW5saW5lLFxuICAgICAgbm9uY2UsXG4gICAgICBudW1UcmFuc2NyaXB0Rm9jdXNPYnNlcnZlcnMsXG4gICAgICBvYnNlcnZlU2Nyb2xsUG9zaXRpb24sXG4gICAgICBvYnNlcnZlVHJhbnNjcmlwdEZvY3VzLFxuICAgICAgcmVuZGVyTWFya2Rvd24sXG4gICAgICBzY3JvbGxSZWxhdGl2ZUNhbGxiYWNrc1JlZixcbiAgICAgIHNjcm9sbFRvQ2FsbGJhY2tzUmVmLFxuICAgICAgc2Nyb2xsVG9FbmRDYWxsYmFja3NSZWYsXG4gICAgICBzZXREaWN0YXRlQWJvcnRhYmxlLFxuICAgICAgc3R5bGVTZXQ6IHBhdGNoZWRTdHlsZVNldCxcbiAgICAgIHN0eWxlVG9FbW90aW9uT2JqZWN0LFxuICAgICAgc3VnZ2VzdGVkQWN0aW9uc0FjY2Vzc0tleSxcbiAgICAgIHdlYlNwZWVjaFBvbnlmaWxsXG4gICAgfSksXG4gICAgW1xuICAgICAgZGljdGF0ZUFib3J0YWJsZSxcbiAgICAgIGRpc3BhdGNoU2Nyb2xsUG9zaXRpb24sXG4gICAgICBkaXNwYXRjaFRyYW5zY3JpcHRGb2N1c0J5QWN0aXZpdHlLZXksXG4gICAgICBmb2N1c1NlbmRCb3hDYWxsYmFja3NSZWYsXG4gICAgICBmb2N1c1RyYW5zY3JpcHRDYWxsYmFja3NSZWYsXG4gICAgICBpbnRlcm5hbE1hcmtkb3duSXQsXG4gICAgICBpbnRlcm5hbFJlbmRlck1hcmtkb3duSW5saW5lLFxuICAgICAgbm9uY2UsXG4gICAgICBudW1UcmFuc2NyaXB0Rm9jdXNPYnNlcnZlcnMsXG4gICAgICBvYnNlcnZlU2Nyb2xsUG9zaXRpb24sXG4gICAgICBvYnNlcnZlVHJhbnNjcmlwdEZvY3VzLFxuICAgICAgcGF0Y2hlZFN0eWxlU2V0LFxuICAgICAgcmVuZGVyTWFya2Rvd24sXG4gICAgICBzY3JvbGxSZWxhdGl2ZUNhbGxiYWNrc1JlZixcbiAgICAgIHNjcm9sbFRvQ2FsbGJhY2tzUmVmLFxuICAgICAgc2Nyb2xsVG9FbmRDYWxsYmFja3NSZWYsXG4gICAgICBzZXREaWN0YXRlQWJvcnRhYmxlLFxuICAgICAgc3R5bGVUb0Vtb3Rpb25PYmplY3QsXG4gICAgICBzdWdnZXN0ZWRBY3Rpb25zQWNjZXNzS2V5LFxuICAgICAgd2ViU3BlZWNoUG9ueWZpbGxcbiAgICBdXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8U2F5Q29tcG9zZXIgcG9ueWZpbGw9e3dlYlNwZWVjaFBvbnlmaWxsfT5cbiAgICAgIDxXZWJDaGF0VUlDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0fT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8RGljdGF0aW9uIG9uRXJyb3I9e2RpY3RhdGlvbk9uRXJyb3J9IC8+XG4gICAgICA8L1dlYkNoYXRVSUNvbnRleHQuUHJvdmlkZXI+XG4gICAgPC9TYXlDb21wb3Nlcj5cbiAgKTtcbn07XG5cbkNvbXBvc2VyQ29yZS5kZWZhdWx0UHJvcHMgPSB7XG4gIGNoaWxkcmVuOiB1bmRlZmluZWQsXG4gIGV4dHJhU3R5bGVTZXQ6IHVuZGVmaW5lZCxcbiAgbm9uY2U6IHVuZGVmaW5lZCxcbiAgcmVuZGVyTWFya2Rvd246IHVuZGVmaW5lZCxcbiAgc3R5bGVTZXQ6IHVuZGVmaW5lZCxcbiAgc3VnZ2VzdGVkQWN0aW9uc0FjY2Vzc0tleTogJ0EgYSDDhSDDpScsXG4gIHdlYlNwZWVjaFBvbnlmaWxsRmFjdG9yeTogdW5kZWZpbmVkXG59O1xuXG5Db21wb3NlckNvcmUucHJvcFR5cGVzID0ge1xuICBleHRyYVN0eWxlU2V0OiBQcm9wVHlwZXMuYW55LFxuICBub25jZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgcmVuZGVyTWFya2Rvd246IFByb3BUeXBlcy5mdW5jLFxuICBzdHlsZVNldDogUHJvcFR5cGVzLmFueSxcbiAgc3VnZ2VzdGVkQWN0aW9uc0FjY2Vzc0tleTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFtmYWxzZV0pLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIHdlYlNwZWVjaFBvbnlmaWxsRmFjdG9yeTogUHJvcFR5cGVzLmZ1bmNcbn07XG5cbnR5cGUgQ29tcG9zZXJQcm9wcyA9IEFQSUNvbXBvc2VyUHJvcHMgJlxuICBDb21wb3NlckNvcmVQcm9wcyAmIHtcbiAgICBub25jZT86IHN0cmluZztcbiAgICB3ZWJTcGVlY2hQb255ZmlsbEZhY3Rvcnk/OiBXZWJTcGVlY2hQb255ZmlsbEZhY3Rvcnk7XG4gIH07XG5cbmNvbnN0IENvbXBvc2VyOiBGQzxDb21wb3NlclByb3BzPiA9ICh7XG4gIGFjdGl2aXR5TWlkZGxld2FyZSxcbiAgYWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlLFxuICBhdHRhY2htZW50Rm9yU2NyZWVuUmVhZGVyTWlkZGxld2FyZSxcbiAgYXR0YWNobWVudE1pZGRsZXdhcmUsXG4gIGF2YXRhck1pZGRsZXdhcmUsXG4gIGNhcmRBY3Rpb25NaWRkbGV3YXJlLFxuICBjaGlsZHJlbixcbiAgZXh0cmFTdHlsZVNldCxcbiAgcmVuZGVyTWFya2Rvd24sXG4gIHNjcm9sbFRvRW5kQnV0dG9uTWlkZGxld2FyZSxcbiAgc3R5bGVTZXQsXG4gIHN1Z2dlc3RlZEFjdGlvbnNBY2Nlc3NLZXksXG4gIHRvYXN0TWlkZGxld2FyZSxcbiAgdHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZSxcbiAgd2ViU3BlZWNoUG9ueWZpbGxGYWN0b3J5LFxuICAuLi5jb21wb3NlclByb3BzXG59KSA9PiB7XG4gIGNvbnN0IHsgbm9uY2UsIG9uVGVsZW1ldHJ5IH0gPSBjb21wb3NlclByb3BzO1xuXG4gIGNvbnN0IHBhdGNoZWRBY3Rpdml0eU1pZGRsZXdhcmUgPSB1c2VNZW1vKFxuICAgICgpID0+IFsuLi5zaW5nbGVUb0FycmF5KGFjdGl2aXR5TWlkZGxld2FyZSksIC4uLmNyZWF0ZURlZmF1bHRBY3Rpdml0eU1pZGRsZXdhcmUoKV0sXG4gICAgW2FjdGl2aXR5TWlkZGxld2FyZV1cbiAgKTtcblxuICBjb25zdCBwYXRjaGVkQWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBbLi4uc2luZ2xlVG9BcnJheShhY3Rpdml0eVN0YXR1c01pZGRsZXdhcmUpLCAuLi5jcmVhdGVEZWZhdWx0QWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlKCldLFxuICAgIFthY3Rpdml0eVN0YXR1c01pZGRsZXdhcmVdXG4gICk7XG5cbiAgY29uc3QgcGF0Y2hlZEF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJNaWRkbGV3YXJlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBbXG4gICAgICAuLi5zaW5nbGVUb0FycmF5KGF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJNaWRkbGV3YXJlKSxcbiAgICAgIC4uLmNyZWF0ZURlZmF1bHRBdHRhY2htZW50Rm9yU2NyZWVuUmVhZGVyTWlkZGxld2FyZSgpXG4gICAgXSxcbiAgICBbYXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmVdXG4gICk7XG5cbiAgY29uc3QgcGF0Y2hlZEF0dGFjaG1lbnRNaWRkbGV3YXJlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBbLi4uc2luZ2xlVG9BcnJheShhdHRhY2htZW50TWlkZGxld2FyZSksIC4uLmNyZWF0ZURlZmF1bHRBdHRhY2htZW50TWlkZGxld2FyZSgpXSxcbiAgICBbYXR0YWNobWVudE1pZGRsZXdhcmVdXG4gICk7XG5cbiAgY29uc3QgcGF0Y2hlZEF2YXRhck1pZGRsZXdhcmUgPSB1c2VNZW1vKFxuICAgICgpID0+IFsuLi5zaW5nbGVUb0FycmF5KGF2YXRhck1pZGRsZXdhcmUpLCAuLi5jcmVhdGVEZWZhdWx0QXZhdGFyTWlkZGxld2FyZSgpXSxcbiAgICBbYXZhdGFyTWlkZGxld2FyZV1cbiAgKTtcblxuICBjb25zdCBwYXRjaGVkQ2FyZEFjdGlvbk1pZGRsZXdhcmUgPSB1c2VNZW1vKFxuICAgICgpID0+IFsuLi5zaW5nbGVUb0FycmF5KGNhcmRBY3Rpb25NaWRkbGV3YXJlKSwgLi4uY3JlYXRlRGVmYXVsdENhcmRBY3Rpb25NaWRkbGV3YXJlKCldLFxuICAgIFtjYXJkQWN0aW9uTWlkZGxld2FyZV1cbiAgKTtcblxuICBjb25zdCBwYXRjaGVkVG9hc3RNaWRkbGV3YXJlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBbLi4uc2luZ2xlVG9BcnJheSh0b2FzdE1pZGRsZXdhcmUpLCAuLi5jcmVhdGVEZWZhdWx0VG9hc3RNaWRkbGV3YXJlKCldLFxuICAgIFt0b2FzdE1pZGRsZXdhcmVdXG4gICk7XG5cbiAgY29uc3QgcGF0Y2hlZFR5cGluZ0luZGljYXRvck1pZGRsZXdhcmUgPSB1c2VNZW1vKFxuICAgICgpID0+IFsuLi5zaW5nbGVUb0FycmF5KHR5cGluZ0luZGljYXRvck1pZGRsZXdhcmUpLCAuLi5jcmVhdGVEZWZhdWx0VHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZSgpXSxcbiAgICBbdHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZV1cbiAgKTtcblxuICBjb25zdCBkZWZhdWx0U2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlID0gdXNlTWVtbygoKSA9PiBjcmVhdGVEZWZhdWx0U2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlKCksIFtdKTtcblxuICBjb25zdCBwYXRjaGVkU2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBbLi4uc2luZ2xlVG9BcnJheShzY3JvbGxUb0VuZEJ1dHRvbk1pZGRsZXdhcmUpLCAuLi5kZWZhdWx0U2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlXSxcbiAgICBbZGVmYXVsdFNjcm9sbFRvRW5kQnV0dG9uTWlkZGxld2FyZSwgc2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlXVxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgPEFQSUNvbXBvc2VyXG4gICAgICAgIGFjdGl2aXR5TWlkZGxld2FyZT17cGF0Y2hlZEFjdGl2aXR5TWlkZGxld2FyZX1cbiAgICAgICAgYWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlPXtwYXRjaGVkQWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlfVxuICAgICAgICBhdHRhY2htZW50Rm9yU2NyZWVuUmVhZGVyTWlkZGxld2FyZT17cGF0Y2hlZEF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJNaWRkbGV3YXJlfVxuICAgICAgICBhdHRhY2htZW50TWlkZGxld2FyZT17cGF0Y2hlZEF0dGFjaG1lbnRNaWRkbGV3YXJlfVxuICAgICAgICBhdmF0YXJNaWRkbGV3YXJlPXtwYXRjaGVkQXZhdGFyTWlkZGxld2FyZX1cbiAgICAgICAgY2FyZEFjdGlvbk1pZGRsZXdhcmU9e3BhdGNoZWRDYXJkQWN0aW9uTWlkZGxld2FyZX1cbiAgICAgICAgZG93bnNjYWxlSW1hZ2VUb0RhdGFVUkw9e2Rvd25zY2FsZUltYWdlVG9EYXRhVVJMfVxuICAgICAgICAvLyBVbmRlciBkZXYgc2VydmVyIG9mIGNyZWF0ZS1yZWFjdC1hcHAsIFwiTk9ERV9FTlZcIiB3aWxsIGJlIHNldCB0byBcImRldmVsb3BtZW50XCIuXG4gICAgICAgIGludGVybmFsRXJyb3JCb3hDbGFzcz17bm9kZV9lbnYgPT09ICdkZXZlbG9wbWVudCcgPyBFcnJvckJveCA6IHVuZGVmaW5lZH1cbiAgICAgICAgbm9uY2U9e25vbmNlfVxuICAgICAgICBzY3JvbGxUb0VuZEJ1dHRvbk1pZGRsZXdhcmU9e3BhdGNoZWRTY3JvbGxUb0VuZEJ1dHRvbk1pZGRsZXdhcmV9XG4gICAgICAgIHRvYXN0TWlkZGxld2FyZT17cGF0Y2hlZFRvYXN0TWlkZGxld2FyZX1cbiAgICAgICAgdHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZT17cGF0Y2hlZFR5cGluZ0luZGljYXRvck1pZGRsZXdhcmV9XG4gICAgICAgIHsuLi5jb21wb3NlclByb3BzfVxuICAgICAgPlxuICAgICAgICA8QWN0aXZpdHlUcmVlQ29tcG9zZXI+XG4gICAgICAgICAgPENvbXBvc2VyQ29yZVxuICAgICAgICAgICAgZXh0cmFTdHlsZVNldD17ZXh0cmFTdHlsZVNldH1cbiAgICAgICAgICAgIG5vbmNlPXtub25jZX1cbiAgICAgICAgICAgIHJlbmRlck1hcmtkb3duPXtyZW5kZXJNYXJrZG93bn1cbiAgICAgICAgICAgIHN0eWxlU2V0PXtzdHlsZVNldH1cbiAgICAgICAgICAgIHN1Z2dlc3RlZEFjdGlvbnNBY2Nlc3NLZXk9e3N1Z2dlc3RlZEFjdGlvbnNBY2Nlc3NLZXl9XG4gICAgICAgICAgICB3ZWJTcGVlY2hQb255ZmlsbEZhY3Rvcnk9e3dlYlNwZWVjaFBvbnlmaWxsRmFjdG9yeX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICB7b25UZWxlbWV0cnkgJiYgPFVJVHJhY2tlciAvPn1cbiAgICAgICAgICA8L0NvbXBvc2VyQ29yZT5cbiAgICAgICAgPC9BY3Rpdml0eVRyZWVDb21wb3Nlcj5cbiAgICAgIDwvQVBJQ29tcG9zZXI+XG4gICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgKTtcbn07XG5cbkNvbXBvc2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgLi4uQVBJQ29tcG9zZXIuZGVmYXVsdFByb3BzLFxuICAuLi5Db21wb3NlckNvcmUuZGVmYXVsdFByb3BzLFxuICBjaGlsZHJlbjogdW5kZWZpbmVkXG59O1xuXG5Db21wb3Nlci5wcm9wVHlwZXMgPSB7XG4gIC4uLkFQSUNvbXBvc2VyLnByb3BUeXBlcyxcbiAgLi4uQ29tcG9zZXJDb3JlLnByb3BUeXBlcyxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5hbnlcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvbXBvc2VyO1xuXG5leHBvcnQgdHlwZSB7IENvbXBvc2VyUHJvcHMgfTtcbiJdfQ==