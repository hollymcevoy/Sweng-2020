"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useMemoWithPrevious;

var _react = require("react");

function useMemoWithPrevious(factory, deps) {
  var prevValueRef = (0, _react.useRef)(); // We are building a `useMemo`-like hook, `deps` is passed as-is and `factory` is not one fo the dependencies.
  // eslint-disable-next-line react-hooks/exhaustive-deps

  var value = (0, _react.useMemo)(function () {
    return factory(prevValueRef.current);
  }, deps);
  (0, _react.useEffect)(function () {
    prevValueRef.current = value;
  });
  return value;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9ob29rcy9pbnRlcm5hbC91c2VNZW1vV2l0aFByZXZpb3VzLnRzIl0sIm5hbWVzIjpbInVzZU1lbW9XaXRoUHJldmlvdXMiLCJmYWN0b3J5IiwiZGVwcyIsInByZXZWYWx1ZVJlZiIsInZhbHVlIiwiY3VycmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUllLFNBQVNBLG1CQUFULENBQWdDQyxPQUFoQyxFQUE4REMsSUFBOUQsRUFBdUY7QUFDcEcsTUFBTUMsWUFBWSxHQUFHLG9CQUFyQixDQURvRyxDQUVwRztBQUNBOztBQUNBLE1BQU1DLEtBQUssR0FBRyxvQkFBVztBQUFBLFdBQU1ILE9BQU8sQ0FBQ0UsWUFBWSxDQUFDRSxPQUFkLENBQWI7QUFBQSxHQUFYLEVBQWdESCxJQUFoRCxDQUFkO0FBRUEsd0JBQVUsWUFBTTtBQUNkQyxJQUFBQSxZQUFZLENBQUNFLE9BQWIsR0FBdUJELEtBQXZCO0FBQ0QsR0FGRDtBQUlBLFNBQU9BLEtBQVA7QUFDRCIsInNvdXJjZVJvb3QiOiJjb21wb25lbnQ6Ly8vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB0eXBlIHsgRGVwZW5kZW5jeUxpc3QgfSBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZU1lbW9XaXRoUHJldmlvdXM8VD4oZmFjdG9yeTogKHByZXZWYWx1ZTogVCkgPT4gVCwgZGVwczogRGVwZW5kZW5jeUxpc3QpOiBUIHtcbiAgY29uc3QgcHJldlZhbHVlUmVmID0gdXNlUmVmPFQ+KCk7XG4gIC8vIFdlIGFyZSBidWlsZGluZyBhIGB1c2VNZW1vYC1saWtlIGhvb2ssIGBkZXBzYCBpcyBwYXNzZWQgYXMtaXMgYW5kIGBmYWN0b3J5YCBpcyBub3Qgb25lIGZvIHRoZSBkZXBlbmRlbmNpZXMuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgY29uc3QgdmFsdWUgPSB1c2VNZW1vPFQ+KCgpID0+IGZhY3RvcnkocHJldlZhbHVlUmVmLmN1cnJlbnQpLCBkZXBzKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHByZXZWYWx1ZVJlZi5jdXJyZW50ID0gdmFsdWU7XG4gIH0pO1xuXG4gIHJldHVybiB2YWx1ZTtcbn1cbiJdfQ==