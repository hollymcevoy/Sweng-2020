"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useRegisterScrollTo;

var _react = require("react");

var _removeInline = _interopRequireDefault(require("../../Utils/removeInline"));

var _useWebChatUIContext2 = _interopRequireDefault(require("./useWebChatUIContext"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// This hook is for registering and unregister a callback, used by <BasicTranscript>.
// When called, the callback should scroll the transcript to the end.
function useRegisterScrollTo(callback) {
  var _useWebChatUIContext = (0, _useWebChatUIContext2.default)(),
      scrollToEndCallbacksRef = _useWebChatUIContext.scrollToEndCallbacksRef;

  (0, _react.useEffect)(function () {
    var scrollToEndCallbacks = scrollToEndCallbacksRef.current;
    scrollToEndCallbacks.push(callback);
    return function () {
      return (0, _removeInline.default)(scrollToEndCallbacks, callback);
    };
  }, [callback, scrollToEndCallbacksRef]);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9ob29rcy9pbnRlcm5hbC91c2VSZWdpc3RlclNjcm9sbFRvRW5kLmpzIl0sIm5hbWVzIjpbInVzZVJlZ2lzdGVyU2Nyb2xsVG8iLCJjYWxsYmFjayIsInNjcm9sbFRvRW5kQ2FsbGJhY2tzUmVmIiwic2Nyb2xsVG9FbmRDYWxsYmFja3MiLCJjdXJyZW50IiwicHVzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBOztBQUNBOzs7O0FBRUE7QUFDQTtBQUVlLFNBQVNBLG1CQUFULENBQTZCQyxRQUE3QixFQUF1QztBQUNwRCw2QkFBb0Msb0NBQXBDO0FBQUEsTUFBUUMsdUJBQVIsd0JBQVFBLHVCQUFSOztBQUVBLHdCQUFVLFlBQU07QUFDZCxRQUFpQkMsb0JBQWpCLEdBQTBDRCx1QkFBMUMsQ0FBUUUsT0FBUjtBQUVBRCxJQUFBQSxvQkFBb0IsQ0FBQ0UsSUFBckIsQ0FBMEJKLFFBQTFCO0FBRUEsV0FBTztBQUFBLGFBQU0sMkJBQWFFLG9CQUFiLEVBQW1DRixRQUFuQyxDQUFOO0FBQUEsS0FBUDtBQUNELEdBTkQsRUFNRyxDQUFDQSxRQUFELEVBQVdDLHVCQUFYLENBTkg7QUFPRCIsInNvdXJjZVJvb3QiOiJjb21wb25lbnQ6Ly8vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgcmVtb3ZlSW5saW5lIGZyb20gJy4uLy4uL1V0aWxzL3JlbW92ZUlubGluZSc7XG5pbXBvcnQgdXNlV2ViQ2hhdFVJQ29udGV4dCBmcm9tICcuL3VzZVdlYkNoYXRVSUNvbnRleHQnO1xuXG4vLyBUaGlzIGhvb2sgaXMgZm9yIHJlZ2lzdGVyaW5nIGFuZCB1bnJlZ2lzdGVyIGEgY2FsbGJhY2ssIHVzZWQgYnkgPEJhc2ljVHJhbnNjcmlwdD4uXG4vLyBXaGVuIGNhbGxlZCwgdGhlIGNhbGxiYWNrIHNob3VsZCBzY3JvbGwgdGhlIHRyYW5zY3JpcHQgdG8gdGhlIGVuZC5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlUmVnaXN0ZXJTY3JvbGxUbyhjYWxsYmFjaykge1xuICBjb25zdCB7IHNjcm9sbFRvRW5kQ2FsbGJhY2tzUmVmIH0gPSB1c2VXZWJDaGF0VUlDb250ZXh0KCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB7IGN1cnJlbnQ6IHNjcm9sbFRvRW5kQ2FsbGJhY2tzIH0gPSBzY3JvbGxUb0VuZENhbGxiYWNrc1JlZjtcblxuICAgIHNjcm9sbFRvRW5kQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuXG4gICAgcmV0dXJuICgpID0+IHJlbW92ZUlubGluZShzY3JvbGxUb0VuZENhbGxiYWNrcywgY2FsbGJhY2spO1xuICB9LCBbY2FsbGJhY2ssIHNjcm9sbFRvRW5kQ2FsbGJhY2tzUmVmXSk7XG59XG4iXX0=